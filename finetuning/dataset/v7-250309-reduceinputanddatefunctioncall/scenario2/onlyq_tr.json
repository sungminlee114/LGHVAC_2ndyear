[
    {
        "Input": "오늘 우리반과 옆반의 평균 온도차이 알려줘",
        "Response": {
            "Thinking": "온도는 실내온도를 의미함. 사용자는 오늘 하루 평균 각 반 실내온도의 차이를 알고 싶어함. 사용자는 차이 결과 뿐만 아니라 계산에 사용된 각 반의 평균 실내온도 값도 궁금할 것임.",
            "Expectations": [
                "우리반(19.3℃)이 옆반(17.0℃)보다 2.3℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))",
                        "spatials": [
                            "02_I84",
                            "02_I85"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },
    {
        "Input": "올해 여름 앞반 평균온도 알려줘",
        "Response": {
            "Thinking": "앞반이라는 공간 정보가 Metadata에 없음. 답변하기 전 사용자에게 앞반이 어떤 곳인지 물어보고 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "앞반이 어디인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은날이 언제야?",
        "Response": {
            "Thinking": "2주전은 정확히 말하면 2주전 한주 (월~일)동안임. 일 평균 설정온도를 사용해야함. 또한 해당 날 뿐만 아니라 그 때의 실내온도도 제공해야 함. 날짜와 값을 찾아야 하므로 timestamp도 쿼리해야 함.",
            "Expectations": [
                "2주전 옆반의 설정온도는 9월 17일에 25℃로 가장 낮았습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "timestamp",
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))",
                        "spatials": [
                            "02_I84",
                            "02_I85"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },
    {
        "Input": "이번달 중 뒷반 온도가 가장 더운날이 언제야?",
        "Response": {
            "Thinking": "뒷반이라는 공간 정보가 Metadata에 없음. 답변하기 전 사용자에게 뒷반이 어떤 곳인지 물어보고 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "뒷반이 어디인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "옆반의 가장 최근 온도랑 설정온도 알려줘",
        "Response": {
            "Thinking": "온도는 실내온도를 의미함. 사용자는 옆반의 가장 최근 실내온도와 설정온도를 알고 싶어함. 실내온도와 설정온도는 매 분마다 측정되므로 최근 5분 이내의 실내온도와 설정온도를 쿼리한 후 그중 가장 최근값을 반환해야함. 풍부한 정보를 위해 해당 값의 시간정보 역시 제공해야 함. 그러기 위해 timestamp도 쿼리해야 함.",
            "Expectations": [
                "옆반의 가장 최근 실내온도는 9시 1분에 측정된 25℃이고, 설정온도는 9시 1분에 설정된 26℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "timestamp",
                            "roomtemp",
                            "settemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I85"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },
    {
        "Input": "에어컨 꺼진 방들 알려줘",
        "Response": {
            "Thinking": "사용자는 현재 에어컨이 꺼져있는 방들을 알고 싶어함. 최근 5분간 metadata에 있는 idu들의 에어컨 작동 상태를 쿼리한 후 가장 최근 데이터가 false인 방들을 반환하면 됨. Human readable한 방 이름을 반환하기 위해 idu_name도 쿼리해야 함.",
            "Expectations": [
                "현재 에어컨이 꺼져있는 방은 02_I85입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper",
                            "idu_name"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I84",
                            "02_I85",
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },
    {
        "Input": "지난주 설정온도가 실내온도보다 더 높았던 날은?",
        "Response": {
            "Thinking": "공간 정보가 없으므로 우리반으로 추측함. 사용자는 지난주 우리반의 일평균 설정온도가 일평균 실내온도보다 높았던 날짜를 알고 싶어함. 지난주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도가 실내온도보다 높은 날짜와 그 값을 반환하면 됨. 날짜와 값을 찾아야 하므로 timestamp도 쿼리해야 함.",
            "Expectations": [
                "지난주 우리반은 9월 19일에 일평균 설정온도 26℃로 실내온도 24℃보다 높았습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "timestamp",
                            "roomtemp",
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "02_I84"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },
    {
        "Input": "우리반, 옆반 중 가장 추운 방은?",
        "Response": {
            "Thinking": "사용자는 현재 우리반, 옆반 중 가장 추운 방을 알고싶어함. 최근 5분간 세 방의 실내온도를 쿼리한 후 가장 최근 가장 낮은 실내온도를 가진 방과 그 온도를 반환하면 됨.",
            "Expectations": [
                "지금 세 방 중 우리반의 실내온도가 24℃로 가장 낮습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I84",
                            "02_I85",
                            "02_I81"
                        ]
                    },
                    "result_name": "qr_ours"
                }
            ]
        }
    },{
        "Input": "에어켠 제일 세게 킨 방 3개 알려줘",
        "Response": {
            "Thinking": "사용자는 현재 Metadata에 존재하는 모든 idu중 oper=true면서 설정온도가 제일 낮은 곳 3개를 알려달라고 하고 있음. 최근 5분간 Metadata에 존재하는 모든 idu의 oper와 설정온도를 쿼리한 후 oper=true인 방만 필터링하고 설정온도가 가장 낮은 방 3개의 이름과 설정온도를 반환하면 됨. Human readable한 방 이름을 반환하기 위해 idu_name도 쿼리해야 함.",
            "Expectations": [
                "에어컨을 제일 세게 킨 방은 순서대로 02_I84(27℃), 02_I85(26℃)입니다.",
                "에어컨을 제일 세게 킨 방은 순서대로 우리반(27℃), 옆반(26℃)입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper",
                            "settemp",
                            "idu_name"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I84",
                            "02_I85"
                        ]
                    },
                    "result_name": "qr"
                }
            ]
        }
    },{
        "Input": "우리반과 옆반중 더 추운곳은 어디야?",
        "Response": {
            "Thinking": "사용자는 현재 우리반과 옆반 중 실내온도가 더 낮은 곳을 알고싶어함. 최근 5분간 우리반과 옆반의 실내온도를 쿼리한 후 가장 최근 값들을 비교해 더 낮은 곳의 이름과 각 반의 실내온도를 반환하면 됨.",
            "Expectations": [
                "옆반(17.0℃)이 우리반(19.3℃)보다 2.3℃ 더 낮아요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": ["02_I84", "02_I85"]
                    },
                    "result_name": "qr"
                }
            ]
        }
    }
]