[
    {
        "Input": "이번주 우리집과 앞집의 평균 온도 알려줘",
        "Tags": {
            "Style": {
                "Type": ["Implicit modality"],
                "Temporal": "이번주",
                "Spatials": ["우리집", "앞집"],
                "Processing": ["Avg"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번주 우리집과 앞집의 실내온도의 평균을 알고싶어함. 이번주 우리집과 앞집의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
            "Expectations": [
                "이번주 우리집의 평균 실내온도는 {{이번주_우리집_실내온도_평균}}℃이고, 앞집의 평균 실내온도는 {{이번주_앞집_실내온도_평균}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "이번주": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))"
                },
                "spatials": {
                    "우리집": "02_I83",
                    "앞집": "02_I84"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_이번주_우리집_df = data(t='이번주',s='우리집',m='실내온도')",
                "v_이번주_앞집_df = data(t='이번주',s='앞집',m='실내온도')",
                "v_이번주_우리집_실내온도_평균 = v_이번주_우리집_df['실내온도'].mean()",
                "v_이번주_앞집_실내온도_평균 = v_이번주_앞집_df['실내온도'].mean()"
            ]
        }
    },
    {
        "Input": "현재 설정온도랑 실내온도 차이 알려줘.",
        "Tags": {
            "Style": {
                "Type": ["Implicit spatial"],
                "Temporal": "현재",
                "Spatials": ["우리집"],
                "Processing": ["Avg", "Diff"],
                "Modality": ["설정온도", "실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리집의 설정온도와 실내온도의 차이를 알고싶어함. 현재 우리집의 설정온도와 실내온도 데이터를 쿼리한 후 차이를 계산하면 됨.",
            "Expectations": [
                "현재 설정온도({{현재_우리집_설정온도}}℃)와 실내온도({{현재_우리집_실내온도}}℃)의 차이는 {{현재_우리집_온도_차이}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "현재": "LAST_RECORD"
                },
                "spatials": {
                    "우리집": "02_I83"
                },
                "modalities": {
                    "설정온도": "settemp",
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_현재_우리집_df = data(t='현재',s='우리집',m=['설정온도','실내온도'])",
                "v_현재_우리집_설정온도 = v_현재_우리집_df['설정온도'].values[0]",
                "v_현재_우리집_실내온도 = v_현재_우리집_df['실내온도'].values[0]",
                "v_현재_우리집_온도_차이 = abs(v_현재_우리집_설정온도 - v_현재_우리집_실내온도)"
            ]
        }
    },
    {
        "Input": "지난달에 설정온도와 실내온도 차이가 가장 많이 났던 날은?",
        "Tags": {
            "Style": {
                "Type": ["Implicit spatial"],
                "Temporal": "지난달",
                "Spatials": ["우리집"],
                "Processing": ["Diff", "ArgMax"],
                "Modality": ["설정온도", "실내온도"]
            },
            "Returns": [
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난달 우리집 설정온도와 실내온도 차이가 가장 컸던 날짜를 알고 싶어함. 지난달 우리집의 설정온도와 실내온도 데이터를 쿼리한 후 차이를 계산하면 됨.",
            "Expectations": [
                "지난달 {{지난달_우리집_온도차이_최고_날짜}}에 설정온도({{지난달_우리집_온도차이_최고_설정온도}}℃)와 실내온도({{지난달_우리집_온도차이_최고_실내온도}}℃) 차이가 {{지난달_우리집_온도차이_최고}}℃로 가장 컸습니다."
            ],
            "Mapping": {
                "temporal": {
                    "지난달": "[DATE_TRUNC('month', DATE 'CURRENT_DATE') - INTERVAL '1 month', DATE_TRUNC('month', DATE 'CURRENT_DATE'))"
                },
                "spatials": {
                    "우리집": "02_I83"
                },
                "modalities": {
                    "설정온도": "settemp",
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_지난달_우리집_df = data(t='지난달',s='우리집',m=['설정온도','실내온도'])",
                "v_지난달_우리집_df['온도차이'] = v_지난달_우리집_df['설정온도'] - v_지난달_우리집_df['실내온도']",
                "v_지난달_우리집_온도차이_최고 = v_지난달_우리집_df['온도차이'].max()",
                "v_지난달_우리집_온도차이_최고_df = v_지난달_우리집_df[v_지난달_우리집_df['온도차이'] == v_지난달_우리집_온도차이_최고]",
                "v_지난달_우리집_온도차이_최고_날짜 = get_time(v_지난달_우리집_온도차이_최고_df, fmt='date')",
                "v_지난달_우리집_온도차이_최고_설정온도 = v_지난달_우리집_온도차이_최고_df['설정온도'].values[0]",
                "v_지난달_우리집_온도차이_최고_실내온도 = v_지난달_우리집_온도차이_최고_df['실내온도'].values[0]"
            ]
        }
    },
    {
        "Input": "이번주 우리집과 옆집의 평균 실내온도 차이 알려줘",
        "Tags": {
            "Style": {
                "Type": [""],
                "Temporal": "이번주",
                "Spatials": ["우리집", "옆집"],
                "Processing": ["Avg", "Diff"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번주 우리집과 옆집의 평균 실내온도 차이를 알고싶어함. 이번주 우리집과 옆집의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
            "Expectations": [
                "이번주 우리집 평균 실내온도({{이번주_우리집_실내온도_평균}}℃)와 옆집 평균 실내온도({{이번주_옆집_실내온도_평균}}℃) 차이는 {{이번주_실내온도_평균_차이}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "이번주": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))"
                },
                "spatials": {
                    "우리집": "02_I83",
                    "옆집": "02_I85"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_이번주_우리집_실내온도_df = data(t='이번주',s='우리집',m='실내온도')",
                "v_이번주_옆집_실내온도_df = data(t='이번주',s='옆집',m='실내온도')",
                "v_이번주_우리집_실내온도_평균 = v_이번주_우리집_실내온도_df['실내온도'].mean()",
                "v_이번주_옆집_실내온도_평균 = v_이번주_옆집_실내온도_df['실내온도'].mean()",
                "v_이번주_실내온도_평균_차이 = abs(v_이번주_우리집_실내온도_평균 - v_이번주_옆집_실내온도_평균)"
            ]
        }
    },
    {
        "Input": "2주전 가장 더웠던 날 알려줘",
        "Tags": {
            "Style": {
                "Type": ["Implicit spatial", "Implicit modality", "Implicit operations"],
                "Temporal": "2주전",
                "Spatials": ["우리집"],
                "Processing": ["ArgMax"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 2주전 우리집의 실내온도가 가장 높았던 날짜를 알고 싶어함. 2주전 우리집의 실내온도 데이터를 쿼리한 후 최고값을 기록한 날짜와 값을 반환하면 됨.",
            "Expectations": [
                "2주전 {{2주전_우리집_실내온도_최고_날짜}}에 실내온도({{2주전_우리집_실내온도_최고_실내온도}}℃)가 가장 높았습니다."
            ],
            "Mapping": {
                "temporal": {
                    "2주전": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))"
                },
                "spatials": {
                    "우리집": "02_I83"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_2주전_우리집_df = data(t='2주전',s='우리집',m='실내온도')",
                "v_2주전_우리집_실내온도_최고 = v_2주전_우리집_df['실내온도'].max()",
                "v_2주전_우리집_실내온도_최고_df = v_2주전_우리집_df[v_2주전_우리집_df['실내온도'] == v_2주전_우리집_실내온도_최고]",
                "v_2주전_우리집_실내온도_최고_날짜 = get_time(v_2주전_우리집_실내온도_최고_df, fmt='date')",
                "v_2주전_우리집_실내온도_최고_실내온도 = v_2주전_우리집_실내온도_최고_df['실내온도'].values[0]"
            ]
        }
    },
    {
        "Input": "화성의 설정온도 확인해줘",
        "Tags": {
            "Style": {
                "Type": ["Implicit temporal"],
                "Temporal": "현재",
                "Spatials": ["화성"],
                "Processing": ["Get"],
                "Modality": ["설정온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 화성의 설정온도를 알고 싶어함. 현재 화성의 설정온도 데이터를 쿼리한 후 값을 반환하면 됨.",
            "Expectations": [
                "현재 화성의 설정온도는 {{현재_화성_설정온도}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "현재": "LAST_RECORD"
                },
                "spatials": {
                    "화성": "Unknown"
                },
                "modalities": {
                    "설정온도": "settemp"
                }
            }
        }
    },
    {
        "Input": "옆집 습도 알려줘",
        "Tags": {
            "Style": {
                "Type": ["Unknown"],
                "Temporal": "현재",
                "Spatials": ["옆집"],
                "Processing": ["Get"],
                "Modality": ["습도"]
            },
            "Returns": [
                "Humidity"
            ]
        },
        "Response": {
            "Thinking": "사용자는 옆집의 현재 습도를 알고 싶어함. 옆집의 현재 습도 데이터를 쿼리한 후 값을 반환하면 됨.",
            "Expectations": [
                "옆집의 현재 습도는 {{현재_옆집_습도}}%입니다."
            ],
            "Mapping": {
                "temporal": {
                    "현재": "LAST_RECORD"
                },
                "spatials": {
                    "옆집": "02_I85"
                },
                "modalities": {
                    "습도": "Unknown"
                }
            }
        }
    },
    {
        "Input": "지난 3일 동안 우리집 실내 온도 평균 값 알려줘.",
        "Tags": {
            "Style": {
                "Type": [""],
                "Temporal": "지난3일",
                "Spatials": ["우리집"],
                "Processing": ["Avg"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난 3일 동안 우리집의 실내온도 평균값을 알고 싶어함. 지난 3일 동안 우리집의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
            "Expectations": [
                "지난 3일간 우리집 실내온도 평균값은 {{지난3일_우리집_실내온도_평균}}℃였습니다."
            ],
            "Mapping": {
                "temporal": {
                    "지난3일": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '3 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))"
                },
                "spatials": {
                    "우리집": "02_I83"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_지난3일_우리집_실내온도_df = data(t='지난3일',s='우리집',m='실내온도')",
                "v_지난3일_우리집_실내온도_평균 = v_지난3일_우리집_실내온도_df['실내온도'].mean()"
            ]
        }
    },
    {
        "Input": "오늘 오후 5시에 옆집의 설정온도는 어땠어?",
        "Tags": {
            "Style": {
                "Type": [""],
                "Temporal": "오늘오후5시",
                "Spatials": ["옆집"],
                "Processing": ["Get"],
                "Modality": ["설정온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 오후 5시에 옆집의 설정온도를 알고 싶어함. 오늘 오후 5시에 옆집의 설정온도 데이터를 쿼리한 후 값을 반환하면 됨.",
            "Expectations": [
                "오늘 오후 5시 옆집의 설정온도는 {{오늘오후5시_옆집_설정온도}}℃였습니다."
            ],
            "Mapping": {
                "temporal": {
                    "오늘오후5시": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '17 hours'"
                },
                "spatials": {
                    "옆집": "02_I85"
                },
                "modalities": {
                    "설정온도": "settemp"
                }
            },
            "Script": [
                "v_오늘오후5시_옆집_df = data(t='오늘오후5시',s='옆집',m='설정온도')",
                "v_오늘오후5시_옆집_설정온도 = v_오늘오후5시_옆집_df['설정온도'].values[0]"
            ]
        }
    },
    {
        "Input": "올해 여름 우리집 실내온도 최대값과 최소값 알려줘",
        "Tags": {
            "Style": {
                "Type": ["Implicit temporal"],
                "Temporal": "올해여름",
                "Spatials": ["우리집"],
                "Processing": ["Max", "Min"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 올해 6월 ~ 8월 동안 우리집의 실내온도 최대값과 최소값을 알고 싶어함. 올해 6월 ~ 8월 동안 우리집의 실내온도 데이터를 쿼리한 후 최대값과 최소값을 계산하면 됨.",
            "Expectations": [
                "올해 여름(6월 ~ 8월) 우리집의 실내온도 최대값과 최소값은 각각 {{올해여름_우리집_실내온도_최대}}℃와 {{올해여름_우리집_실내온도_최소}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "올해여름": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')"
                },
                "spatials": {
                    "우리집": "02_I83"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_올해여름_우리집_df = data(t='올해여름',s='우리집',m='실내온도')",
                "v_올해여름_우리집_실내온도_최대 = v_올해여름_우리집_df['실내온도'].max()",
                "v_올해여름_우리집_실내온도_최소 = v_올해여름_우리집_df['실내온도'].min()"
            ]
        }
    },
    {
        "Input": "우리집과 앞집 중 가장 더운 집은?",
        "Tags": {
            "Style": {
                "Type": ["Implicit temporal", "Implicit modality", "Implicit operations"],
                "Temporal": "현재",
                "Spatials": ["우리집", "앞집"],
                "Processing": ["ArgMax"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리집과 앞집 중 실내온도가 최고인 집을 알고싶어함.현재 두 집의 실내온도를 쿼리한 후 실내온도가 최고인 집과 그 온도를 반환하면 됨.",
            "Expectations": [
                "현재 두 집 중 {{현재_실내온도_최고_집}}이(가) {{현재_실내온도_최고}}℃로 가장 더운 집이에요."
            ],
            "Mapping": {
                "temporal": {
                    "현재": "LAST_RECORD"
                },
                "spatials": {
                    "우리집": "02_I83",
                    "앞집": "02_I84"
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_현재_집별_실내온도_df = data(t='현재',s=['우리집','앞집'],m='실내온도')",
                "v_현재_실내온도_최고 = v_현재_집별_실내온도_df['실내온도'].max()",
                "v_현재_실내온도_최고_df = v_현재_집별_실내온도_df[v_현재_집별_실내온도_df['실내온도'] == v_현재_실내온도_최고]",
                "v_현재_실내온도_최고_집 = get_spatials(v_현재_실내온도_최고_df)"
            ]
        }
    }, {
        "Input": "지금 8층 평균 실내온도 알려줘",
        "Tags": {
            "Style": {
                "Type": [""],
                "Temporal": "현재",
                "Spatials": ["8층"],
                "Processing": ["Avg"],
                "Modality": ["실내온도"]
            },
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 8층 집들의 실내온도 평균을 알고 싶어함. 현재 8층 집들의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
            "Expectations": [
                "지금 8층 평균 실내온도는 {{현재_8층_실내온도_평균}}℃입니다."
            ],
            "Mapping": {
                "temporal": {
                    "현재": "LAST_RECORD"
                },
                "spatials": {
                    "8층": ["02_I83", "02_I85", "02_I84"]
                },
                "modalities": {
                    "실내온도": "roomtemp"
                }
            },
            "Script": [
                "v_현재_8층_실내온도_df = data(t='현재',s='8층',m='실내온도')",
                "v_현재_8층_실내온도_평균 = v_현재_8층_실내온도_df['실내온도'].mean()"
            ]
        }
    }
]