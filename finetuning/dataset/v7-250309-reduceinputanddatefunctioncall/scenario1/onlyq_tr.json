[
    {
        "Input": "어제 우리반과 옆반의 설정온도 차이 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "설정온도는 하루동안 여러번의 측정값이 있는데, 사용자는 특정 시점을 언급하지 않았으므로 특정 시점이 아닌 1일 전 하루동안 측정된 설정온도의 평균값을 기반해서 대답해야함. 어제 우리반과 옆반의 설정온도를 쿼리한 후 각 반의 하루 평균 설정온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
                "어제 우리반의 설정온도({{어제_우리반_평균_설정온도}}℃)는 옆반의 설정온도({{어제_옆반_평균_설정온도}}℃)보다 {{어제_평균설정온도_차이}}℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "어제": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "어제_우리반_설정온도 = data(t='어제',s='우리반',m='설정온도')",
                        "어제_옆반_설정온도 = data(t='어제',s='옆반',m='설정온도')",
                        "어제_우리반_평균_설정온도 = avg(어제_우리반_설정온도)",
                        "어제_옆반_평균_설정온도 = avg(어제_옆반_설정온도)",
                        "어제_평균설정온도_차이 = diff(어제_우리반_평균_설정온도, 어제_옆반_평균_설정온도)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 우리반과 옆반의 평균 온도차이 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 하루 평균 우리반과 옆반의 실내온도의 차이를 알고 싶어함. 사용자는 차이 결과 뿐만 아니라 계산에 사용된 각 반의 평균 실내온도 값도 궁금할 것임. 오늘 하루 우리반과 옆반의 실내온도를 쿼리한 후 각 반의 평균 실내온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
                "우리반({{오늘_우리반_평균_실내온도}}℃)이 옆반({{오늘_옆반_평균_실내온도}}℃)보다 {{오늘_평균실내온도_차이}}℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "오늘": "[DATE_TRUNC('day', DATE 'CURRENT_DATE'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "오늘_우리반_실내온도 = data(t='오늘',s='우리반',m='실내온도')",
                        "오늘_옆반_실내온도 = data(t='오늘',s='옆반',m='실내온도')",
                        "오늘_우리반_평균_실내온도 = avg(오늘_우리반_실내온도)",
                        "오늘_옆반_평균_실내온도 = avg(오늘_옆반_실내온도)",
                        "오늘_평균실내온도_차이 = diff(오늘_우리반_평균_실내온도, 오늘_옆반_평균_실내온도)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "작년 겨울 우리반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 1년 전 12월 ~ 올해 2월의 평균 실내온도를 알고 싶어함. 풍부한 정보를 위해 작년 겨울이 언제인지도 알려주어야 함. 우리반의 1년 전 겨울(12월 ~ 2월) 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "작년 겨울(2021-12 ~ 2022-02) 우리반의 평균 온도는 {{작년겨울_우리반_평균_실내온도}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "작년겨울": "[DATE 'CURRENT_YEAR-12-01' - INTERVAL '1 year', DATE 'CURRENT_YEAR-03-01')"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "작년겨울_우리반_실내온도 = data(t='작년겨울',s='우리반',m='실내온도')",
                        "작년겨울_우리반_평균_실내온도 = avg(작년겨울_우리반_실내온도)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 여름 앞반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 올해 6월 ~ 8월 앞반의 평균 실내온도를 알고 싶어함. 또한 올해 여름이 언제인지 알려주어야 함. 올해 여름(6월 ~ 8월) 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "올해 여름(6월 ~ 8월) 앞반의 평균 온도는 {{올해여름_앞반_평균_실내온도}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "올해여름": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')"
                        },
                        "spatials": {
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "올해여름_앞반_실내온도 = data(t='올해여름',s='앞반',m='실내온도')",
                        "올해여름_앞반_평균_실내온도 = avg(올해여름_앞반_실내온도)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 봄 옆반 제일 추웠던 날 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare",
                "Implicit modality"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 올해 3월 ~ 5월 옆반의 실내온도가 제일 낮았던 날짜를 알고 싶어함. 답변시 추측한 올해 봄이 언제인지, 모달리티가 무엇인지, 제일 추웠던 날의 날짜와 온도를 제공해야 함. 올해 3월 ~ 5월 옆반의 실내온도를 쿼리한 후 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "올해 봄(3월 ~ 5월) 옆반은 {{올해봄_옆반_최소실내온도_날짜}}에 {{올해봄_옆반_최소실내온도}}℃로 제일 추웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "올해봄": "[DATE 'CURRENT_YEAR-03-01', DATE 'CURRENT_YEAR-06-01')"
                        },
                        "spatials": {
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "올해봄_옆반_실내온도 = data(t='올해봄',s='옆반',m='실내온도')",
                        "올해봄_옆반_최소실내온도 = min(올해봄_옆반_실내온도)",
                        "올해봄_옆반_최소실내온도_날짜 = get_dates(올해봄_옆반_실내온도[올해봄_옆반_실내온도 == 올해봄_옆반_최소실내온도])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "4월 앞반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 4월 한달간 앞반의 평균 실내온도를 알고 싶어함. 4월 한달간 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "4월 앞반의 평균 온도는 {{4월_앞반_평균_실내온도}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "4월": "[DATE 'CURRENT_YEAR-04-01', DATE 'CURRENT_YEAR-05-01')"
                        },
                        "spatials": {
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "4월_앞반_실내온도 = data(t='4월',s='앞반',m='실내온도')",
                        "4월_앞반_평균_실내온도 = avg(4월_앞반_실내온도)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 우리반 온도가 가장 덜 더운날이 언제야?",
        "Tags": {
            "Style": [
                "ArgMinMax/Compare",
                "Implicit modality"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 일평균 실내온도가 가장 낮았던 날짜를 알고 싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 실내온도도 제공해야 함. 이번달 우리반의 실내온도를 쿼리한 후 일평균 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "이번달 우리반은 {{이번달_우리반_최소실내온도_날짜}}에 {{이번달_우리반_최소실내온도}}℃로 가장 덜 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "이번달": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "이번달_우리반_실내온도 = data(t='이번달',s='우리반',m='실내온도')",
                        "이번달_우리반_최소실내온도 = min(이번달_우리반_실내온도)",
                        "이번달_우리반_최소실내온도_날짜 = get_dates(이번달_우리반_실내온도[이번달_우리반_실내온도 == 이번달_우리반_최소실내온도])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은날이 언제야?",
        "Tags": {
            "Style": [
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "2주전은 정확히 말하면 2주전 한주 (월~일)동안임. 사용자는 2주전 월요일부터 일요일까지 우리반과 옆반의 설정온도가 가장 낮았던 날짜를 알고 싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 설정온도도 제공해야 함. 2주전 우리반과 옆반의 설정온도를 쿼리한 후 설정온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은 날은 {{2주전_우리반과옆반_최소설정온도_날짜}}로 {{2주전_우리반과옆반_최소설정온도}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "2주전": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "2주전_우리반과옆반_설정온도 = data(t='2주전',s=['우리반','옆반'],m='설정온도')",
                        "2주전_우리반과옆반_최소설정온도 = min(2주전_우리반과옆반_설정온도)",
                        "2주전_우리반과옆반_최소설정온도_날짜 = get_dates(2주전_우리반과옆반_설정온도[2주전_우리반과옆반_설정온도 == 2주전_우리반과옆반_최소설정온도])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 뒷반 온도가 가장 더운날이 언제야?",
        "Tags": {
            "Style": [
                "Unknown",
                "ArgMinMax/Compare"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "뒷반이라는 공간 정보가 Metadata에 없음. 답변하기 전 사용자에게 뒷반이 어떤 곳인지 물어보고 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "뒷반이 어디인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "우리반의 가장 최근 설정 온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp",
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 가장 최근 설정온도를 알고 싶어함. 설정온도는 매 분마다 측정되므로 최근 5분 이내의 설정온도를 쿼리한 후 그중 가장 최근값을 반환해야함.",
            "Expectations": [
                "우리반의 가장 최근 설정온도는 {{settemp_recent_time}}에 설정된 {{settemp_recent}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent = qr[qr['timestamp'] == qr['timestamp'].max()]",
                        "settemp_recent = qr_recent['settemp'].values[0]",
                        "settemp_recent_time = qr_recent['timestamp'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "옆반의 가장 최근 온도랑 설정온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp",
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 옆반의 가장 최근 실내온도와 설정온도를 알고 싶어함. 실내온도와 설정온도는 매 분마다 측정되므로 최근 5분 이내의 실내온도와 설정온도를 쿼리한 후 그중 가장 최근값을 반환해야함.",
            "Expectations": [
                "옆반의 가장 최근 실내온도는 {{recent_time}}에 측정된 {{roomtemp_recent}}℃이고, 설정온도는 {{recent_time}}에 설정된 {{settemp_recent}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "roomtemp",
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "recent_time = qr['timestamp'].max()",
                        "recent_data = qr[qr['timestamp'] == recent_time]",
                        "roomtemp_recent = recent_data['roomtemp'].values[0]",
                        "settemp_recent = recent_data['settemp'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "What time is it now?",
        "Tags": {
            "Style": [
                "English",
                "Metadata"
            ],
            "Returns": [
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 시간을 물어봄. 현재 시간을 Metadata에서 읽어서 반환하면 됨.",
            "Expectations": [
                "It's {{current_time}} now."
            ],
            "Instructions": [
                {
                    "type": "o",
                    "script": [
                        "current_time = pd.Timestamp(Metadata['current_datetime']).strftime('%H:%M:%S')"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘은 무슨 요일이야?",
        "Tags": {
            "Style": [
                "Metadata",
                "DateQuery"
            ],
            "Returns": [
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘의 요일을 물어봄. 오늘의 일시를 Metadata에서 읽은 후 pandas의 datetime 기능을 사용하여 요일을 반환하면 됨.",
            "Expectations": [
                "오늘은 {{today_weekday}}요일 입니다."
            ],
            "Instructions": [
                {
                    "type": "o",
                    "script": [
                        "current_datetime = pd.Timestamp(Metadata['current_datetime'])",
                        "today_weekday = current_datetime.strftime('%A')"
                    ]
                }
            ]
        }
    },
    {
        "Input": "어제는 몇일이었어?",
        "Tags": {
            "Style": [
                "Metadata",
                "DateQuery"
            ],
            "Returns": [
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 어제의 날짜를 물어봄. 오늘 일시를 Metadata에서 읽은 후 pandas의 datetime 기능을 사용하여 날짜를 반환하면 됨.",
            "Expectations": [
                "어제는 {{yesterday_date}}이었습니다."
            ],
            "Instructions": [
                {
                    "type": "o",
                    "script": [
                        "current_datetime = pd.Timestamp(Metadata['current_datetime'])",
                        "yesterday_datetime = current_datetime - pd.Timedelta(days=1)",
                        "yesterday_date = yesterday_datetime.strftime('%Y-%m-%d')"
                    ]
                }
            ]
        }
    },
    {
        "Input": "내 이름이 뭐야?",
        "Tags": {
            "Style": [
                "Metadata"
            ],
            "Returns": [
                "String"
            ]
        },
        "Response": {
            "Thinking": "사용자는 자신의 이름을 물어봄. 이름은 Metadata에서 읽어서 반환하면 됨.",
            "Expectations": [
                "사용자의 이름은 {{user_name}}입니다."
            ],
            "Instructions": [
                {
                    "type": "o",
                    "script": [
                        "user_name = Metadata['user_name']"
                    ]
                }
            ]
        }
    },
    {
        "Input": "What is the current temperature in our class?",
        "Tags": {
            "Style": [
                "English",
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반의 실내온도를 물어봄. 최근 5분간 우리반 실내온도를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "The current temperature in our class is {{roomtemp_recent}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent = qr[qr['timestamp'] == qr['timestamp'].max()]",
                        "roomtemp_recent = qr_recent['roomtemp'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "내일 실내온도 어떨거 같아?",
        "Tags": {
            "Style": [
                "Prediction",
                "Implicit spatial"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "사용자는 내일 우리반의 실내온도를 예측하고 싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야함.",
            "Expectations": [
                "예측하기는 아직 지원되지 않는 기능입니다."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "8일전 설정온도는?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit spatial"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "공간 정보가 없으므로 우리반으로 추측함. 사용자는 8일 전 우리반의 설정온도를 알고 싶어함. 8일 전 설정온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "8일전 우리반의 평균 설정온도는 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '8 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '7 day'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp_avg = qr['settemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "10년 전 오늘 우리반 온도는?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 10년 전 오늘 우리반의 실내온도를 알고 싶어함. 10년 전 오늘 우리반의 실내온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "10년 전 오늘 우리반의 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year' + INTERVAL '1 day'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_avg = qr['roomtemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "롯데캐슬의 현재 온도 알려줘",
        "Tags": {
            "Style": [
                "Unknown",
                "Avg/Diff/Get"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "질문의 맥락 상 공간정보는 롯데캐슬인데, metadata에는 없음. 사용자에게 롯데캐슬이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "롯데캐슬이 어떤 곳인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "1층 평균 실내온도 알려줘",
        "Tags": {
            "Style": [
                "Unknown",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "질문의 맥락 상 공간정보는 1층인데, metadata에는 없음. 사용자에게 1층이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "1층이 어떤 곳인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "에어컨 꺼진 방들 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 에어컨이 꺼져있는 방들을 알고 싶어함. 최근 5분간 metadata에 있는 idu들의 에어컨 작동 상태를 쿼리한 후 가장 최근 데이터가 false인 방들을 반환하면 됨.",
            "Expectations": [
                "현재 에어컨이 꺼져있는 방은 {{off_names}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "off_names = pd.unique(qr_recent[qr_recent['oper'] == False]['idu'])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 설정온도가 실내온도보다 더 높았던 날은?",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난주 우리반의 일평균 설정온도가 일평균 실내온도보다 높았던 날짜를 알고 싶어함. 지난주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도가 실내온도보다 높은 날짜와 그 값을 반환하면 됨.",
            "Expectations": [
                "지난주 우리반은 {{dates}}에 일평균 설정온도 {{settemp_avg}}℃로 실내온도 {{roomtemp_avg}}℃보다 높았습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp",
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr['date'] = qr['timestamp'].dt.date",
                        "daily_avg_temp = qr.groupby('date')[['roomtemp', 'settemp']].mean()",
                        "dates = daily_avg_temp[daily_avg_temp['settemp'] > daily_avg_temp['roomtemp']].index"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반 이번달 제일 추웠던 날은 언제냐?",
        "Tags": {
            "Style": [
                "Implicit modality",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 실내온도값이 가장 낮았던 날을 알고싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 실내온도도 제공해야 함.",
            "Expectations": [
                "이번달 우리반은 {{coldest_dates}}에 {{coldest_temp}}℃로 가장 추웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "coldest_temp = qr['roomtemp'].min()",
                        "coldest_dates = qr[qr['roomtemp'] == coldest_temp]['timestamp'].dt.strftime('%Y-%m-%d').drop_duplicates().tolist()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "어제 우리반 에어컨 작동 시간 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 어제 하루동안 우리반 에어컨이 작동하는 시간을 알고싶어함. 어제 우리반의 에어컨 작동 상태 데이터를 쿼리한 후 oper=true인 시간을 계산하여 반환하면 됨.",
            "Expectations": [
                "어제 우리반은 총 {{total_time_in_hours}}시간동안 에어컨이 작동했습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "oper_on = qr[qr['oper'] == True]",
                        "oper_on['time_diff'] = oper_on['timestamp'].diff().dt.total_seconds().fillna(0)",
                        "total_time_in_hours = abs(oper_on['time_diff'].sum()) / 3600"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반, 옆반, 앞반 중 가장 추운 방은?",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반, 옆반, 앞반 중 가장 추운 방을 알고싶어함. 최근 5분간 세 방의 실내온도를 쿼리한 후 가장 최근 가장 낮은 실내온도를 가진 방과 그 온도를 반환하면 됨.",
            "Expectations": [
                "지금 세 방 중 {{coldest_rooms}}이(가) {{coldest_temp}}℃로 가장 추워요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "coldest_temp = qr_recent['roomtemp'].min()",
                        "coldest_rooms = qr_recent[qr_recent['roomtemp'] == coldest_temp]['idu'].values"
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어켠 제일 세게 킨 방 3개 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Spatial",
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 Metadata에 존재하는 모든 idu중 에어컨 전원이 켜져있으면서 설정온도가 제일 낮은 곳 3개를 알려달라고 하고 있음. 최근 5분간 Metadata에 존재하는 모든 idu의 oper와 설정온도를 쿼리한 후 oper=true인 방만 필터링하고 설정온도가 가장 낮은 방 3개의 이름과 설정온도를 반환하면 됨.",
            "Expectations": [
                "에어컨을 제일 세게 킨 방은 순서대로 {{top3_rooms}}입니다.",
                "에어컨을 제일 세게 킨 방은 순서대로 {{top3_rooms[0]}}({{top3_temps[0]}}℃), {{top3_rooms[1]}}({{top3_temps[1]}}℃), {{top3_rooms[2]}}({{top3_temps[2]}}℃)입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ],
                        "modalities": [
                            "oper",
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "on_qr = qr_recent[qr_recent['oper'] == True]",
                        "sorted_on_qr = on_qr.sort_values('settemp', ascending=False)",
                        "top3_rooms = sorted_on_qr['idu'].values[:3]",
                        "top3_temps = sorted_on_qr['settemp'].values[:3]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "작년 옆반 가장 더웠던 달은?",
        "Tags": {
            "Style": [
                "Implicit modality",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 작년 옆반 실내온도가 최고였던 날과 그때의 실내온도를 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 가장 높은 실내온도를 기록한 달과 그때의 실내온도를 반환하면 됨.",
            "Expectations": [
                "작년 {{hottest_dates}}에 {{hottest_temp}}℃로 가장 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('year', DATE 'CURRENT_DATE' - INTERVAL '1 year'), DATE_TRUNC('year', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "hottest_temp = qr['roomtemp'].max()",
                        "hottest_dates = qr[qr['roomtemp'] == hottest_temp]['timestamp'].dt.strftime('%Y-%m-%d').drop_duplicates().tolist()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난달에 설정온도랑 현재온도 차이가 제일 많이 났던 때는 언제야?",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Date"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난달 우리반의 설정온도와 실내온도의 차이가 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 알고싶어함. 해당 기간의 설정온도, 실내온도 데이터를 쿼리한 후 설정온도와 실내온도의 차이를 계산하여 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 반환하면 됨.",
            "Expectations": [
                "{{max_diff_timestamps}}이 설정온도({{max_diff_settemps}}℃)와 실내온도({{max_diff_roomtemps}}℃)의 차이가 {{max_diff}}℃로 가장 많이 나는 때였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE' - INTERVAL '1 month'), DATE_TRUNC('month', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp",
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr['temp_diff']=qr['roomtemp']-qr['settemp']",
                        "max_diff=qr['temp_diff'].max()",
                        "max_diff_data=qr.loc[qr['temp_diff']==max_diff].drop_duplicates()",
                        "max_diff_timestamps=max_diff_data['timestamp'].dt.strftime('%Y-%m-%d %H:%M:%S').tolist()",
                        "max_diff_settemps=max_diff_data['settemp'].drop_duplicates().tolist()",
                        "max_diff_roomtemps=max_diff_data['roomtemp'].drop_duplicates().tolist()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난 한달간 설정온도 평균을 알려줘.",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난 한달 동안 우리반의 설정온도 평균을 알고싶어함. 해당 기간의 설정온도 데이터를 쿼리한 후 설정온도의 평균값을 반환하면 됨.",
            "Expectations": [
                "지난 한달간 설정온도 평균은 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE 'CURRENT_DATE' - INTERVAL '1 month', DATE 'CURRENT_DATE']",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp_avg = qr['settemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "What is the temperature difference between our class and the adjacent class right now?",
        "Tags": {
            "Style": [
                "English",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반과 옆반의 실내온도 차이를 알고 싶어함. 최근 5분간 우리반과 옆반의 실내온도를 쿼리한 후 가장 최근 값들과 차이를 계산해 반환하면 됨.",
            "Expectations": [
                "The current temperature in our class is {{roomtemp_ours}}℃, and the temperature in the adjacent class is {{roomtemp_beside}}℃, with a difference of {{temp_diff}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "roomtemp_ours = qr_recent[qr_recent['idu'] == '01_IB5']['roomtemp'].values[0]",
                        "roomtemp_beside = qr_recent[qr_recent['idu'] == '01_IB7']['roomtemp'].values[0]",
                        "temp_diff = roomtemp_ours - roomtemp_beside"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 에너지 사용량 알려줘",
        "Tags": {
            "Style": [
                "Unknown"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "에너지 사용량은 Metadata에 없는 modality임. 사용자에게 에너지 사용량이 무엇인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "에너지 사용량이 무엇인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "앞반 전원 켜져있어?",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Oper"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 앞반의 에어컨 전원 상태를 조회하여 반환해야 합니다.",
            "Expectations": [
                "앞반의 전원은 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I81"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "oper = qr_recent['oper'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 우리반 에어컨 전원이 처음 켜진 시각 알려줘.",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 우리반 에어컨 전원이 처음 켜진 시간을 알고싶어함. 오늘 하루 우리반의 oper를 쿼리한 후 oper=true인 첫 번째 시각을 반환하면 됨.",
            "Expectations": [
                "오늘 우리반의 에어컨 전원이 처음 켜진 시각은 {{first_on}}입니다.",
                "어제 에어컨은 계속 꺼져있었습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE 'CURRENT_DATE', DATE 'CURRENT_DATE' + INTERVAL '1 day')",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "first_on = qr[qr['oper'] == True]['timestamp'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 우리반은 대체로 몇 도로 설정되어 있었나요?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난주 우리반 설정온도의 빈도, 평균 등 통계를 알고싶어함. 지난주 우리반의 설정온도 데이터를 쿼리한 후 빈도, 평균 등을 계산하여 반환하면 됨.",
            "Expectations": [
                "지난주 우리반은 대체로 {{settemp_mode}}℃로 설정되어 있었습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp_mode = qr['settemp'].mode()[0]",
                        "settemp_avg = qr['settemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "옆반 어제 아침과 저녁의 설정온도 차이는 얼마나 돼?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 옆반의 어제 아침(06 ~ 09시)과 저녁(18 ~ 21시)의 평균 설정온도의 차이를 알고싶어함. 옆반 어제 아침과 저녁의 설정온도를 쿼리한 후 평균값을 계산해 차이를 반환하면 됨.",
            "Expectations": [
                "어제 아침(06:00 ~ 09:00, {{morning_avg}}℃)과 저녁(18:00 ~ 21:00, {{evening_avg}}℃)의 설정온도 차이는 {{temp_diff}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '6 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '9 hours')",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr_morning"
                },
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '18 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '21 hours')",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr_evening"
                },
                {
                    "type": "o",
                    "script": [
                        "morning_avg = qr_morning['settemp'].mean()",
                        "evening_avg = qr_evening['settemp'].mean()",
                        "temp_diff = evening_avg - morning_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 옆반 에어컨 상태 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Oper"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 옆반의 에어컨 전원 상태를 알고싶어함. 최근 5분간 옆반의 에어컨 전원 상태를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "옆반의 에어컨은 현재 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "oper = qr_recent['oper'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번주 우리반 평균 온도 알려줘",
        "Tags": {
            "Style": [
                "Implicit modality",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번주 우리반의 평균 실내온도를 알고싶어함. 이번주 우리반의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "이번주 우리반의 평균 실내온도는 {{roomtemp_avg}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_avg = qr['roomtemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 우리반 설정온도 최대값과 최소값 알려줘",
        "Tags": {
            "Style": [
                "MinMax"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 설정온도 최대값과 최소값을 알고싶어함. 이번달 우리반의 설정온도 데이터를 쿼리한 후 최대값과 최소값을 계산하여 반환하면 됨.",
            "Expectations": [
                "이번달 우리반의 설정온도는 최대 {{settemp_max}}℃, 최소 {{settemp_min}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp_max = qr['settemp'].max()",
                        "settemp_min = qr['settemp'].min()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반과 옆반중 더 추운곳은 어디야?",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반과 옆반 중 실내온도가 더 낮은 곳을 알고싶어함. 최근 5분간 우리반과 옆반의 실내온도를 쿼리한 후 가장 최근 값들을 비교해 더 낮은 곳의 이름과 각 반의 실내온도를 반환하면 됨.",
            "Expectations": [
                "{{colder_idu}}({{roomtemp_beside}}℃)이 우리반({{roomtemp_ours}}℃)보다 {{temp_diff}}℃ 더 낮아요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "roomtemp_ours = qr_recent[qr_recent['idu'] == '01_IB5']['roomtemp'].values[0]",
                        "roomtemp_beside = qr_recent[qr_recent['idu'] == '01_IB7']['roomtemp'].values[0]",
                        "colder_idu = '01_IB7' if roomtemp_beside < roomtemp_ours else '01_IB5'",
                        "temp_diff = abs(roomtemp_ours - roomtemp_beside)"
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어컨 켜져있어?",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "Implicit temporal"
            ],
            "Returns": [
                "Oper"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 에어컨이 켜져있는지 물어봄. 최근 5분간 우리반의 에어컨 작동 상태를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "우리반의 에어컨은 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()]",
                        "oper = qr_recent['oper'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "내일 우리반과 앞반 온도 차이 알려줘",
        "Tags": {
            "Style": [
                "Implicit modality",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 내일 우리반과 앞반의 실내온도 차이를 알고싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야 함.",
            "Expectations": [
                "예측하기는 아직 지원되지 않는 기능입니다."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "How hot was our class over the last month?",
        "Tags": {
            "Style": [
                "English",
                "Implicit modality",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 지난달 실내온도 평균값을 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "The average temperature of our class over the last month was {{roomtemp_avg}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE' - INTERVAL '1 month'), DATE_TRUNC('month', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_avg = qr['roomtemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리 반 에어컨이 가장 오래 작동했던 날은 언제야?",
        "Tags": {
            "Style": [
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Dates",
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 에어컨의 하루동안 작동시간이 가장 긴 날짜를 알고싶어함. 따로 명시된 시간 범위가 없으므로 지난 1주일 동안의 oper 데이터를 쿼리한 후 하루동안 oper=true인 시간이 가장 긴 날짜를 반환하면 됨. 단 추측한 시간 범위를 사용자에게 알려주어야 함.",
            "Expectations": [
                "우리반은 지난 1주일 이내 {{longest_oper_dates}}에 에어컨을 가장 오래({{longest_oper_time_in_hours}}시간) 작동했습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '7 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "oper"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "qr['date'] = qr['timestamp'].dt.date",
                        "daily_oper_time = qr.groupby('date')['oper'].sum()",
                        "longest_oper_time = daily_oper_time.max()",
                        "longest_oper_dates = daily_oper_time[daily_oper_time == longest_oper_time].index",
                        "longest_oper_dates = pd.to_datetime(longest_oper_dates).strftime('%Y-%m-%d').tolist()",
                        "longest_oper_time_in_hours = longest_oper_time * (qr['timestamp'].diff().dt.total_seconds() / 3600).mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "3주전 우리반 평균 실내온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 3주전 하루 동안 우리반의 평균 실내온도를 알고 싶어합니다. 해당 기간의 실내온도 데이터를 쿼리하여 평균값을 계산하면 됩니다.",
            "Expectations": [
                "3주전 우리반의 평균 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '21 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '20 day'))",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_avg = qr['roomtemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난달 오늘 오후 2시에 옆반의 설정온도는 어땠어?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난달 오늘 특정 시각(오후 2시)에 옆반의 설정온도를 알고 싶어합니다. 해당 시간대의 설정온도 데이터를 쿼리하여 평균을 반환하면 됩니다.",
            "Expectations": [
                "지난달 오늘 오후 2시 옆반의 설정온도는 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 month') + INTERVAL '14 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 month') + INTERVAL '15 hours')",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp_avg = qr['settemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오후 4시부터 6시까지 실내온도 평균 알려줘",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 오후 4시부터 6시까지의 시간 동안 우리반의 실내온도 평균을 알고 싶어합니다. 해당 시간 범위의 실내온도 데이터를 쿼리하여 평균값을 계산하면 됩니다.",
            "Expectations": [
                "오늘 오후 4시부터 6시까지 우리반의 평균 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '16 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '18 hours')",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_avg = qr['roomtemp'].mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 수요일 실내온도 최고값 알려줘",
        "Tags": {
            "Style": [
                "Implicit spatial",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난주 수요일 하루 동안 우리반의 최고 실내온도를 알고 싶어합니다. 해당 날짜의 실내온도 데이터를 쿼리하여 최고값을 반환하면 됩니다.",
            "Expectations": [
                "지난주 수요일 우리반의 최고 실내온도는 {{roomtemp_max}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week') + INTERVAL '2 day', DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week') + INTERVAL '3 day')",
                        "spatials": [
                            "01_IB5"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp_max = qr['roomtemp'].max()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오전 11시에 옆반의 실내온도는 어땠어?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 오전 11시의 옆반 실내온도 값을 알고 싶어합니다. 해당 시간의 실내온도 데이터를 쿼리하여 값을 반환하면 됩니다.",
            "Expectations": [
                "오늘 오전 11시 옆반의 실내온도는 {{roomtemp}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '11 hours'",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "roomtemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "roomtemp = qr['roomtemp'].values[0]"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오후 2시에 옆반의 설정온도는 어땠어?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 오후 2시의 옆반 설정온도 값을 알고 싶어합니다. 해당 시간의 설정온도 데이터를 쿼리하여 값을 반환하면 됩니다.",
            "Expectations": [
                "오늘 오후 2시 옆반의 설정온도는 {{settemp}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '14 hours'",
                        "spatials": [
                            "01_IB7"
                        ],
                        "modalities": [
                            "settemp"
                        ]
                    },
                    "result_name": "qr"
                },
                {
                    "type": "o",
                    "script": [
                        "settemp = qr['settemp'].values[0]"
                    ]
                }
            ]
        }
    }
]