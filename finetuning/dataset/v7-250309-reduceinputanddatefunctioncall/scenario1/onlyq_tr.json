[
    {
        "Input": "어제 우리반과 옆반의 설정온도 차이 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Diff",
            "Returns": ["Temp"]
        },
        "Response": {
            "Thinking": "설정온도는 하루동안 여러번의 측정값이 있는데, 사용자는 특정 시점을 언급하지 않았으므로 특정 시점이 아닌 1일 전 하루동안 측정된 설정온도의 평균값을 기반해서 대답해야함. 어제 우리반과 옆반의 설정온도를 쿼리한 후 각 반의 하루 평균 설정온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
      "어제 우리반의 설정온도({{settemp_ours}}℃)는 옆반의 설정온도({{settemp_beside}}℃)보다 {{settemp_diff}}℃ 높습니다."
    ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_ours = qr[qr['idu'] == '01_IB5']['settemp'].mean();settemp_beside = qr[qr['idu'] == '01_IB7']['settemp'].mean();settemp_diff = settemp_ours - settemp_beside;",
                    "returns": [
                        "settemp_ours",
                        "settemp_beside",
                        "settemp_diff"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 우리반과 옆반의 평균 온도차이 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Diff",
            "Returns": ["Temp"]
        },
        "Response": {
            "Thinking": "사용자는 오늘 하루 평균 우리반과 옆반의 실내온도의 차이를 알고 싶어함. 사용자는 차이 결과 뿐만 아니라 계산에 사용된 각 반의 평균 실내온도 값도 궁금할 것임. 오늘 하루 우리반과 옆반의 실내온도를 쿼리한 후 각 반의 평균 실내온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
                "우리반({{roomtemp_ours}}℃)이 옆반({{roomtemp_beside}}℃)보다 {{roomtemp_diff}}℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_ours = qr[qr['idu'] == '01_IB5']['roomtemp'].mean();roomtemp_beside = qr[qr['idu'] == '01_IB7']['roomtemp'].mean();roomtemp_diff = roomtemp_ours - roomtemp_beside;",
                    "returns": [
                        "roomtemp_ours",
                        "roomtemp_beside",
                        "roomtemp_diff"
                    ]
                }
            ]
        }
    },
    {
        "Input": "작년 겨울 우리반 평균온도 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Average",
            "Returns": ["Temp"]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 1년 전 12월 ~ 올해 2월의 평균 실내온도를 알고 싶어함. 풍부한 정보를 위해 작년 겨울이 언제인지도 알려주어야 함. 우리반의 1년 전 겨울(12월 ~ 2월) 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "작년 겨울(2021-12 ~ 2022-02) 우리반의 평균 온도는 {{roomtemp_avg}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE 'CURRENT_YEAR-12-01' - INTERVAL '1 year', DATE 'CURRENT_YEAR-03-01')",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 여름 앞반 평균온도 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Average",
            "Returns": ["Temp"]
        },
        "Response": {
            "Thinking": "사용자는 올해 6월 ~ 8월 앞반의 평균 실내온도를 알고 싶어함. 또한 올해 여름이 언제인지 알려주어야 함. 올해 여름(6월 ~ 8월) 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "올해 여름(6월 ~ 8월) 앞반의 평균 온도는 {{roomtemp_avg}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')",
                        "spatials": ["02_I81"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올여름 제일 더웠던 날 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Max",
            "Returns": ["Temp", "Dates"]
        },
        "Response": {
            "Thinking": "사용자는 올해 6월 ~ 8월 우리반의 실내온도가 가장 높았던 날을 알고 싶어함. 양질의 답변을 위해 추측한 올 여름이 언제인지, 공간 및 모달리티가 무엇인지, 제일 더웠던 날의 날짜와 온도를 제공해야 함. 올해 6월 ~ 8월 우리반의 실내온도를 쿼리한 후 실내온도가 가장 높은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "올여름 우리반은 {{hottest_dates}}에 실내온도 {{hottest_temp}}℃로 가장 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "hottest_temp = qr['roomtemp'].max();hottest_dates = qr[qr['roomtemp'] == hottest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "hottest_dates",
                        "hottest_temp"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 봄 옆반 제일 추웠던 날 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Min",
            "Returns": ["Temp", "Dates"]
        },
        "Response": {
            "Thinking": "사용자는 올해 3월 ~ 5월 옆반의 실내온도가 제일 낮았던 날짜를 알고 싶어함. 답변시 추측한 올해 봄이 언제인지, 모달리티가 무엇인지, 제일 추웠던 날의 날짜와 온도를 제공해야 함. 올해 3월 ~ 5월 옆반의 실내온도를 쿼리한 후 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "올해 봄 옆반은 {{coldest_dates}}에 {{coldest_temp}}℃로 제일 추웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp"
                        ],
                        "temporal": "[DATE 'CURRENT_YEAR-03-01', DATE 'CURRENT_YEAR-06-01')",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "coldest_temp = qr['roomtemp'].min();coldest_dates = qr[qr['roomtemp'] == coldest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "coldest_dates",
                        "coldest_temp"
                    ]
                }
            ]
        }
    },
    {
        "Input": "4월 앞반 평균온도 알려줘",
        "Tags": {
            "Type": "Normal",
            "Operation": "Average",
            "Returns": ["Temp"]
        },
        "Response": {
            "Thinking": "사용자는 4월 한달간 앞반의 평균 실내온도를 알고 싶어함. 4월 한달간 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "4월 앞반의 평균 온도는 {{roomtemp_avg}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE 'CURRENT_YEAR-04-01', DATE 'CURRENT_YEAR-05-01')",
                        "spatials": [
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },{
        "Input": "이번달 중 우리반 온도가 가장 덜 더운날이 언제야?",
        "Tags": {
            "Type": "Normal",
            "Operation": "Min",
            "Returns": ["Temp", "Dates"]
        },
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 일평균 실내온도가 가장 낮았던 날짜를 알고 싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 실내온도도 제공해야 함. 이번달 우리반의 실내온도를 쿼리한 후 일평균 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "이번달 우리반은 {{coldest_dates}}에 {{coldest_temp}}℃로 가장 덜 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "coldest_temp = qr['roomtemp'].min();coldest_dates = qr[qr['roomtemp'] == coldest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "coldest_dates",
                        "coldest_temp"
                    ]
                }
            ]
        }
    },
    {
        "Input": "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은날이 언제야?",
        "Tags": {
            "Type": "Normal",
            "Operation": "Min",
            "Returns": ["Temp", "Dates"]
        },
        "Response": {
            "Thinking": "2주전은 정확히 말하면 2주전 한주 (월~일)동안임. 사용자는 2주전 월요일부터 일요일까지 우리반과 옆반의 설정온도가 가장 낮았던 날짜를 알고 싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 설정온도도 제공해야 함. 2주전 우리반과 옆반의 설정온도를 쿼리한 후 설정온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은 날은 {{coldest_dates}}로 {{coldest_temp}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "coldest_temp = qr['settemp'].min();coldest_dates = qr[qr['settemp'] == coldest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "coldest_dates",
                        "coldest_temp"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 뒷반 온도가 가장 더운날이 언제야?",
        "Tags": {
            "Type": "Unknown"
        },
        "Response": {
            "Thinking": "뒷반이라는 공간 정보가 Metadata에 없음. 답변하기 전 사용자에게 뒷반이 어떤 곳인지 물어보고 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "뒷반이 어디인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "지난주 설정온도 변화 추이 보여줘",
        "Tags": {
            "Type": "Graph",
            "Operation": "Trend",
            "Returns": ["Graph"]
        },
        "Response": {
            "Thinking": "사용자는 지난주 월요일부터 일요일까지 설정온도 값의 변화, 트렌드, 통계정보를 궁금해함. 설정온도의 평균, 최저, 최고값등의 통계적 정보와 그래프를 통한 시각화를 제공해야함. 지난주 우리반의 설정온도를 쿼리한 후 통계적 정보와 그래프를 반환하면 됨.",
            "Expectations": [
                "(그래프) X축: 날짜, Y축: 설정온도, 변화 추이 그래프",
                "지난주 우리반의 설정온도는 {{settemp_min}}℃에서 {{settemp_max}}℃로 {{settemp_diff}}℃ 증가했습니다.",
                "지난주 우리반의 설정온도는 평균 {{settemp_avg}}℃, 최저 {{settemp_min}}℃, 최고 {{settemp_max}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_avg = qr['settemp'].mean();settemp_min = qr['settemp'].min();settemp_max = qr['settemp'].max();settemp_rawtimeseries = qr[['timestamp', 'settemp']];settemp_diff = settemp_max - settemp_min;",
                    "returns": [
                        "settemp_avg",
                        "settemp_min",
                        "settemp_max",
                        "settemp_diff",
                        "settemp_rawtimeseries"
                    ]
                }, {
                    "type": "g",
                    "args": {
                        "graph_type": "original",
                        "axis": {
                            "xlabel": "날짜",
                            "ylabel": "설정온도",
                            "title": "지난주 우리반 설정온도 변화 추이"
                        },
                        "plots": [
                            {
                                "type": "line",
                                "data": {
                                    "x": "settemp_rawtimeseries['timestamp']",
                                    "y": "settemp_rawtimeseries['settemp']"
                                },
                                "label": "우리집 설정온도"
                            }
                        ]
                    }
                }
            ]
        }
    },{
        "Input": "우리반의 가장 최근 설정 온도 알려줘",
        "Tags": {
            "Type": "Normal",
            "Returns": ["Temp", "Time"]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 가장 최근 설정온도를 알고 싶어함. 설정온도는 매 분마다 측정되므로 최근 5분 이내의 설정온도를 쿼리한 후 그중 가장 최근값을 반환해야함.",
            "Expectations": [
                "우리반의 가장 최근 설정온도는 {{settemp_recent_time}}에 설정된 {{settemp_recent}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "settemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent = qr[qr['timestamp'] == qr['timestamp'].max()];settemp_recent = qr_recent['settemp'].values[0];settemp_recent_time = qr_recent['timestamp'].values[0];",
                    "returns": [
                        "settemp_recent",
                        "settemp_recent_time"
                    ]
                }
            ]
        }
    },
    {
        "Input": "옆반의 가장 최근 온도랑 설정온도 알려줘",
        "Tags": {
            "Type": "Normal",
            "Returns": ["Temp", "Time"]
        },
        "Response": {
            "Thinking": "사용자는 옆반의 가장 최근 실내온도와 설정온도를 알고 싶어함. 실내온도와 설정온도는 매 분마다 측정되므로 최근 5분 이내의 실내온도와 설정온도를 쿼리한 후 그중 가장 최근값을 반환해야함.",
            "Expectations": [
                "옆반의 가장 최근 실내온도는 {{recent_time}}에 측정된 {{roomtemp_recent}}℃이고, 설정온도는 {{recent_time}}에 설정된 {{settemp_recent}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp",
                            "settemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "recent_time = qr['timestamp'].max();roomtemp_recent = qr[qr['timestamp'] == recent_time]['roomtemp'].values[0];settemp_recent = qr[qr['timestamp'] == recent_time]['settemp'].values[0];",
                    "returns": [
                        "roomtemp_recent",
                        "settemp_recent",
                        "recent_time"
                    ]
                }
            ]
        }
    }, {
        "Input": "지금 옆반 너무 추워",
        "Tags": {
            "Type": "Implicit",
            "Operation": "Reason",
            "Returns": ["Data"]
        },
        "Response": {
            "Thinking": "사용자는 특정 질문을 하진 않았지만, 의도를 추측해보면 옆반이 추워 불편함을 느끼는 것 같음. 현재 옆반이 추운 이유와 해결 방법을 제시하는것이 좋아보임. 옆반의 최근 3시간의 시간별 실내온도, 설정온도, 에어컨 작동 상태를 쿼리한 후 종합적으로 비교 분석하여 추운 이유를 분석하고 해결 방법을 제시해야함.",
            "Expectations": [
                "지금 에어컨 설정온도가 10℃로 너무 낮아서 옆반이 15℃로 추운 것 같아요. 에어컨을 끄거나 설정온도를 높여보세요.",
                "지금 옆반이 추운 이유는 에어컨이 계속 켜져 있기 때문입니다.",
                "옆반이 추운 이유는 에어컨이 꺼진지 30분밖에 안 되었기 때문입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp",
                            "settemp",
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '3 hours', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr",
                    "returns": [
                        "qr"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반 왜이리 덥노",
        "Tags": {
            "Type": "Normal",
            "Operation": "Reason",
            "Returns": ["Data"]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반이 더운 이유를 궁금해함. 최근 3시간 우리반의 시간별 설정온도, 실내온도, 에어컨 작동 상태를 쿼리한 후 종합적으로 비교 분석하여 더운 이유를 분석하고 해결 방법을 제시해야함.",
            "Expectations": [
                "지금 우리반은 27.3℃인데 에어컨 설정온도는 28℃로 실내온도보다 높네요. 설정온도를 낮추면 시원해질 거에요.",
                "지금 우리반은 30.6℃로 더운데 에어컨이 꺼져있네요. 에어컨을 켜면 시원해질 거에요.",
                "지금 우리반은 30.6℃인데요, 에어컨이 켜진지 5분밖에 안되었기 때문입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp",
                            "settemp",
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '3 hours', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr",
                    "returns": [
                        "qr"
                    ]
                }
            ]
        }
    },
    {
        "Input": "What time is it now?",
        "Tags": {
            "Type": "Metadata",
            "Returns": ["Time"]
        },
        "Response": {
            "Thinking": "사용자는 현재 시간을 물어봄. 현재 시간을 Metadata에서 읽어서 반환하면 됨.",
            "Expectations": [
                "현재 시간은 {{Metadata['current_datetime']}}입니다."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "What is the current temperature in our class?",
        "Tags": ["DiverseInput"],
        "Response": {
            "Thinking": "사용자는 현재 우리반의 실내온도를 물어봄. 최근 5분간 우리반 실내온도를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "The current temperature in our class is {{roomtemp_recent}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent = qr[qr['timestamp'] == qr['timestamp'].max()];roomtemp_recent = qr_recent['roomtemp'].values[0];",
                    "returns": [
                        "roomtemp_recent"
                    ]
                }
            ]
        }
    },
    {
        "Input": "내일 실내온도 어떨거 같아?",
        "Tags": ["NotSupported"],
        "Response": {
            "Thinking": "사용자는 내일 우리반의 실내온도를 예측하고 싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야함.",
            "Expectations": [
                "예측하기는 아직 지원되지 않는 기능입니다."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "8일전 설정온도는?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "공간 정보가 없으므로 우리반으로 추측함. 사용자는 8일 전 우리반의 설정온도를 알고 싶어함. 8일 전 설정온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "8일전 우리반의 평균 설정온도는 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '8 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '7 day'))",
                        
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_avg = qr['settemp'].mean();",
                    "returns": [
                        "settemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "10년 전 오늘 우리반 온도는?",
        "Tags": ["NoData"],
        "Response": {
            "Thinking": "사용자는 10년 전 오늘 우리반의 실내온도를 알고 싶어함. 10년 전 오늘 우리반의 실내온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "10년 전 오늘 우리반의 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year' + INTERVAL '1 day'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "롯데캐슬의 현재 온도 알려줘",
        "Tags": ["Unknown"],
        "Response": {
            "Thinking": "질문의 맥락 상 공간정보는 롯데캐슬인데, metadata에는 없음. 사용자에게 롯데캐슬이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "롯데캐슬이 어떤 곳인지 알려주세요."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "다음 대통령 선거는 언제인가요?",
        "Tags": ["Unrelated"],
        "Response": {
            "Thinking": "질문의 맥락 상 HVAC 시스템과 관련 없는 질문임. HVAC 시스템과 관련 없는 질문에 대해 답변이 불가함을 사용자에게 알림.",
            "Expectations": [
                "HVAC 시스템과 관련 없는 질문입니다."
            ],
            "Instructions": []
        }
    },
    {
        "Input": "1층 평균 실내온도 알려줘",
        "Tags": ["Unknown"],
        "Response": {
            "Thinking": "질문의 맥락 상 공간정보는 1층인데, metadata에는 없음. 사용자에게 1층이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "1층이 어떤 곳인지 알려주세요."
            ],
            "Instructions": []
        }
    },{
        "Input": "에어컨 꺼진 방들 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 에어컨이 꺼져있는 방들을 알고 싶어함. 최근 5분간 metadata에 있는 idu들의 에어컨 작동 상태를 쿼리한 후 가장 최근 데이터가 false인 방들을 반환하면 됨.",
            "Expectations": [
                "현재 에어컨이 꺼져있는 방은 {{off_names}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];off_names = qr_recent[qr_recent['oper'] == False]['idu'].values;",
                    "returns": [
                        "off_names"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 설정온도가 실내온도보다 더 높았던 날은?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난주 우리반의 일평균 설정온도가 일평균 실내온도보다 높았던 날짜를 알고 싶어함. 지난주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도가 실내온도보다 높은 날짜와 그 값을 반환하면 됨.",
            "Expectations": [
                "지난주 우리반은 {{dates}}에 일평균 설정온도 {{settemp_avg}}℃로 실내온도 {{roomtemp_avg}}℃보다 높았습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp",
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr['date'] = qr['timestamp'].dt.date;daily_avg_temp = qr.groupby('date')[['roomtemp', 'settemp']].mean();dates = daily_avg_temp[daily_avg_temp['settemp'] > daily_avg_temp['roomtemp']].index;",
                    "returns": [
                        "dates"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반 이번달 제일 추웠던 날은 언제냐?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 실내온도값이 가장 낮았던 날을 알고싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 실내온도도 제공해야 함.",
            "Expectations": [
                "이번달 우리반은 {{coldest_dates}}에 {{coldest_temp}}℃로 가장 추웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "coldest_temp = qr['roomtemp'].min();coldest_dates = qr[qr['roomtemp'] == coldest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "coldest_dates",
                        "coldest_temp"
                    ]
                }
            ]
        }
    },{
        "Input": "우리반과 옆반 이번주 설정온도 차이 보여줘",
        "Tags": ["Graph"],
        "Response": {
            "Thinking": "사용자는 이번주 우리반과 옆반의 설정온도 차이를 시각화해서 보고싶어함. 이번주 우리반과 옆반의 설정온도 데이터를 쿼리한 후 시간에 따른 설정온도 차이를 시각화하면 됨. 또한 이번주 우리반과 옆반의 설정온도 평균값을 계산하여 반환해야 함.",
            "Expectations": [
                "(그래프) X축: 날짜, Y축: 설정온도 차이, 차이 추이 그래프",
                "이번주 우리반의 평균 설정온도는 {{settemp_avg_ours}}℃, 옆반은 {{settemp_avg_theirs}}℃로 설정온도 차이는 {{settemp_diff}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_ours = qr[qr['idu'] == '01_IB5'];settemp_theirs = qr[qr['idu'] == '01_IB7'];settemp_timealign = pd.merge(settemp_ours, settemp_theirs, on='timestamp', suffixes=('_ours', '_theirs'));settemp_timealign['temp_diff'] = settemp_timealign['settemp_ours'] - settemp_timealign['settemp_theirs'];",
                    "returns": [
                        "settemp_timealign"
                    ]
                }
            ]
        }
    },
    {
        "Input": "어제 우리반 에어컨 작동 시간 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 어제 하루동안 우리반 에어컨이 작동하는 시간을 알고싶어함. 어제 우리반의 에어컨 작동 상태 데이터를 쿼리한 후 oper=true인 시간을 계산하여 반환하면 됨.",
            "Expectations": [
                "어제 우리반은 총 5시간 14분 동안 에어컨을 작동했습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "oper"
                        ],
                        "temporal": 
                            "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "oper_on = qr[qr['oper'] == True];oper_on['time_diff'] = oper_on['timestamp'].diff().dt.total_seconds().fillna(0);total_time = oper_on['time_diff'].sum();",
                    "returns": [
                        "total_time"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반, 옆반, 앞반 중 가장 추운 방은?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 우리반, 옆반, 앞반 중 가장 추운 방을 알고싶어함. 최근 5분간 세 방의 실내온도를 쿼리한 후 가장 최근 가장 낮은 실내온도를 가진 방과 그 온도를 반환하면 됨.",
            "Expectations": [
                "지금 세 방 중 {{coldest_rooms}}이(가) {{coldest_temp}}℃로 가장 추워요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];coldest_temp = qr_recent['roomtemp'].min();coldest_rooms = qr_recent[qr_recent['roomtemp'] == coldest_temp]['idu'].values;",
                    "returns": [
                        "coldest_rooms",
                        "coldest_temp"
                    ]
                }
            ]
        }
    },{
        "Input": "농담 좀 해줘",
        "Tags": ["Unrelated"],
        "Response": {
            "Thinking": "질문의 맥락 상 HVAC 시스템과 관련 없는 질문임. HVAC 시스템과 관련 없는 질문에 대해 답변이 불가함을 사용자에게 알림.",
            "Expectations": [
                "HVAC 시스템과 관련 없는 질문입니다."
            ],
            "Instructions": []
        }
    },{
        "Input": "에어켠 제일 세게 킨 방 3개 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 Metadata에 존재하는 모든 idu중 에어컨 전원이 켜져있으면서 설정온도가 제일 낮은 곳 3개를 알려달라고 하고 있음. 최근 5분간 Metadata에 존재하는 모든 idu의 oper와 설정온도를 쿼리한 후 oper=true인 방만 필터링하고 설정온도가 가장 낮은 방 3개의 이름과 설정온도를 반환하면 됨.",
            "Expectations": [
                "에어컨을 제일 세게 킨 방은 순서대로 {{top3_rooms}}입니다.",
                "에어컨을 제일 세게 킨 방은 순서대로 {{top3_rooms[0]}}({{top3_temps[0]}}℃), {{top3_rooms[1]}}({{top3_temps[1]}}℃), {{top3_rooms[2]}}({{top3_temps[2]}}℃)입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper",
                            "settemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7",
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];on_qr = qr_recent[qr_recent['oper'] == True];sorted_on_qr = on_qr.sort_values('settemp', ascending=False);top3_rooms = sorted_on_qr['idu'].values[:3];top3_temps = sorted_on_qr['settemp'].values[:3];",
                    "returns": [
                        "top3_rooms",
                        "top3_temps"
                    ]
                }
            ]
        }
    },
    {
        "Input": "작년 옆반 가장 더웠던 달은?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 작년 옆반 실내온도가 최고였던 날과 그때의 실내온도를 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 가장 높은 실내온도를 기록한 달과 그때의 실내온도를 반환하면 됨.",
            "Expectations": [
                "작년 {{hottest_dates}}에 {{hottest_temp}}℃로 가장 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('year', DATE 'CURRENT_DATE' - INTERVAL '1 year'), DATE_TRUNC('year', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "hottest_temp = qr['roomtemp'].max();hottest_dates = qr[qr['roomtemp'] == hottest_temp]['timestamp'].dt.strftime('%Y-%m-%d');",
                    "returns": [
                        "hottest_dates",
                        "hottest_temp"
                    ]
                }
            ]
        }
    },{
        "Input": "지난달에 설정온도랑 현재온도 차이가 제일 많이 났던 때는 언제야?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난달 우리반의 설정온도와 실내온도의 차이가 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 알고싶어함. 해당 기간의 설정온도, 실내온도 데이터를 쿼리한 후 설정온도와 실내온도의 차이를 계산하여 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 반환하면 됨.",
            "Expectations": [
                "{{max_diff_timestamps}}이 설정온도({{max_diff_settemps}}℃)와 실내온도({{max_diff_roomtemps}}℃)의 차이가 {{max_diff}}℃로 가장 많이 나는 때였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp",
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE' - INTERVAL '1 month'), DATE_TRUNC('month', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr['temp_diff'] = qr['roomtemp'] - qr['settemp'];max_diff = qr['temp_diff'].max();max_diff_timestamps = qr[qr['temp_diff'] == max_diff]['timestamp'].values;max_diff_settemps = qr[qr['temp_diff'] == max_diff]['settemp'].values;max_diff_roomtemps = qr[qr['temp_diff'] == max_diff]['roomtemp'].values;",
                    "returns": [
                        "max_diff_timestamps",
                        "max_diff_settemps",
                        "max_diff_roomtemps",
                        "max_diff"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난 한달간 설정온도 평균을 알려줘.",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난 한달 동안 우리반의 설정온도 평균을 알고싶어함. 해당 기간의 설정온도 데이터를 쿼리한 후 설정온도의 평균값을 반환하면 됨.",
            "Expectations": [
                "지난 한달간 설정온도 평균은 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE 'CURRENT_DATE' - INTERVAL '1 month', DATE 'CURRENT_DATE']",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_avg = qr['settemp'].mean();",
                    "returns": [
                        "settemp_avg"
                    ]
                }
            ]
        }
    },{
        "Input": "What is the temperature difference between our class and the adjacent class right now?",
        "Tags": ["DiverseInput"],
        "Response": {
            "Thinking": "사용자는 현재 우리반과 옆반의 실내온도 차이를 알고 싶어함. 최근 5분간 우리반과 옆반의 실내온도를 쿼리한 후 가장 최근 값들과 차이를 계산해 반환하면 됨.",
            "Expectations": [
                "The current temperature in our class is {{roomtemp_ours}}℃, and the temperature in the adjacent class is {{roomtemp_theirs}}℃, with a difference of {{temp_diff}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "01_IB5",
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];roomtemp_ours = qr_recent[qr_recent['idu'] == '01_IB5']['roomtemp'].values[0];roomtemp_theirs = qr_recent[qr_recent['idu'] == '01_IB7']['roomtemp'].values[0];temp_diff = roomtemp_ours - roomtemp_theirs;",
                    "returns": [
                        "roomtemp_ours",
                        "roomtemp_theirs",
                        "temp_diff"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 에너지 사용량 알려줘",
        "Tags": ["Unknown"],
        "Response": {
            "Thinking": "에너지 사용량은 Metadata에 없는 modality임. 사용자에게 에너지 사용량이 무엇인지 물어보고, 해당 정보를 변수에 저장해야 함.",
            "Expectations": [
                "에너지 사용량이 무엇인지 알려주세요."
            ],
            "Instructions": []
        }
    },{
        "Input": "앞반 전원 켜져있어?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 앞반의 에어컨 전원 상태를 조회하여 반환해야 합니다.",
            "Expectations": [
                "앞반의 전원은 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": [
                            "02_I81"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];oper = qr_recent['oper'].values[0];",
                    "returns": [
                        "oper"
                    ]
                }
            ]
        }
    },{
        "Input": "오늘 우리반 에어컨 전원이 처음 켜진 시각 알려줘.",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 오늘 우리반 에어컨 전원이 처음 켜진 시간을 알고싶어함. 오늘 하루 우리반의 oper를 쿼리한 후 oper=true인 첫 번째 시각을 반환하면 됨.",
            "Expectations": [
                "오늘 우리반의 에어컨 전원이 처음 켜진 시각은 {{first_on}}입니다.",
                "어제 에어컨은 계속 꺼져있었습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "oper"
                        ],
                        "temporal": "[DATE 'CURRENT_DATE', DATE 'CURRENT_DATE' + INTERVAL '1 day')",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "first_on = qr[qr['oper'] == True]['timestamp'].values[0];",
                    "returns": [
                        "first_on"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번주 경제 소식 알려줘.",
        "Tags": ["Unrelated"],
        "Response": {
            "Thinking": "질문의 맥락 상 HVAC 시스템과 관련 없는 질문임. HVAC 시스템과 관련 없는 질문에 대해 답변이 불가함을 사용자에게 알림.",
            "Expectations": [
                "HVAC 시스템과 관련 없는 질문입니다."
            ],
            "Instructions": []
        }
    },{
        "Input": "지난주 우리반은 대체로 몇 도로 설정되어 있었나요?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난주 우리반 설정온도의 빈도, 평균 등 통계를 알고싶어함. 지난주 우리반의 설정온도 데이터를 쿼리한 후 빈도, 평균 등을 계산하여 반환하면 됨.",
            "Expectations": [
                "지난주 우리반은 대체로 {{settemp_mode}}℃로 설정되어 있었습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_mode = qr['settemp'].mode()[0];settemp_avg = qr['settemp'].mean();",
                    "returns": [
                        "settemp_mode",
                        "settemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "옆반 어제 아침과 저녁의 설정온도 차이는 얼마나 돼?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 옆반의 어제 아침(06 ~ 09시)과 저녁(18 ~ 21시)의 평균 설정온도의 차이를 알고싶어함. 옆반 어제 아침과 저녁의 설정온도를 쿼리한 후 평균값을 계산해 차이를 반환하면 됨.",
            "Expectations": [
                "어제 아침(06:00 ~ 09:00, {{morning_avg}}℃)과 저녁(18:00 ~ 21:00, {{evening_avg}}℃)의 설정온도 차이는 {{temp_diff}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '6 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '9 hours')",
                        "spatials": ["01_IB7"]
                    },
                    "result_name": "qr_morning"
                },
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '18 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day') + INTERVAL '21 hours')",
                        "spatials": ["01_IB7"]
                    },
                    "result_name": "qr_evening"
                }, {
                    "type": "o",
                    "script": "morning_avg = qr_morning['settemp'].mean();evening_avg = qr_evening['settemp'].mean();temp_diff = evening_avg - morning_avg;",
                    "returns": [
                        "morning_avg",
                        "evening_avg",
                        "temp_diff"
                    ]
                }
            ]
        }
    },{
        "Input": "지금 옆반 에어컨 상태 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 옆반의 에어컨 전원 상태를 알고싶어함. 최근 5분간 옆반의 에어컨 전원 상태를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "옆반의 에어컨은 현재 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": ["01_IB7"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];oper = qr_recent['oper'].values[0];",
                    "returns": [
                        "oper"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번주 우리반 평균 온도 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 이번주 우리반의 평균 실내온도를 알고싶어함. 이번주 우리반의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "이번주 우리반의 평균 실내온도는 {{roomtemp_avg}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))",
                        "spatials": ["01_IB5"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },{
        "Input": "이번달 우리반 설정온도 최대값과 최소값 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 설정온도 최대값과 최소값을 알고싶어함. 이번달 우리반의 설정온도 데이터를 쿼리한 후 최대값과 최소값을 계산하여 반환하면 됨.",
            "Expectations": [
                "이번달 우리반의 설정온도는 최대 {{settemp_max}}℃, 최소 {{settemp_min}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))",
                        "spatials": ["01_IB5"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_max = qr['settemp'].max();settemp_min = qr['settemp'].min();",
                    "returns": [
                        "settemp_max",
                        "settemp_min"
                    ]
                }
            ]
        }
    },{
        "Input": "우리반과 옆반중 더 추운곳은 어디야?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 우리반과 옆반 중 실내온도가 더 낮은 곳을 알고싶어함. 최근 5분간 우리반과 옆반의 실내온도를 쿼리한 후 가장 최근 값들을 비교해 더 낮은 곳의 이름과 각 반의 실내온도를 반환하면 됨.",
            "Expectations": [
                "{{colder_idu}}({{roomtemp_theirs}}℃)이 우리반({{roomtemp_ours}}℃)보다 {{roomtemp_diff}}℃ 더 낮아요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": ["01_IB5", "01_IB7"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];roomtemp_ours = qr_recent[qr_recent['idu'] == '01_IB5']['roomtemp'].values[0];roomtemp_theirs = qr_recent[qr_recent['idu'] == '01_IB7']['roomtemp'].values[0];colder_idu = '01_IB7' if roomtemp_theirs < roomtemp_ours else '01_IB5';roomtemp_diff = abs(roomtemp_ours - roomtemp_theirs);",
                    "returns": [
                        "roomtemp_ours",
                        "roomtemp_theirs",
                        "roomtemp_diff",
                        "colder_idu"
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어컨 켜져있어?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 현재 에어컨이 켜져있는지 물어봄. 최근 5분간 우리반의 에어컨 작동 상태를 쿼리한 후 가장 최근값을 반환하면 됨.",
            "Expectations": [
                "우리반의 에어컨은 {{oper}}입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "oper"
                        ],
                        "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']",
                        "spatials": ["01_IB5"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];oper = qr_recent['oper'].values[0];",
                    "returns": [
                        "oper"
                    ]
                }
            ]
        }
    },{
        "Input": "내일 우리반과 앞반 온도 차이 알려줘",
        "Tags": ["Unknown"],
        "Response": {
            "Thinking": "사용자는 내일 우리반과 앞반의 실내온도 차이를 알고싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야 함.",
            "Expectations": [
                "예측하기는 아직 지원되지 않는 기능입니다."
            ],
            "Instructions": []
        }
    },{
        "Input": "How hot was our class over the last month?",
        "Tags": ["DiverseInput"],
        "Response": {
            "Thinking": "사용자는 우리반의 지난달 실내온도 평균값을 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "The average temperature of our class over the last month was {{roomtemp_avg}}℃."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('month', DATE 'CURRENT_DATE' - INTERVAL '1 month'), DATE_TRUNC('month', DATE 'CURRENT_DATE'))",
                        "spatials": ["01_IB5"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리 반 에어컨이 가장 오래 작동했던 날은 언제야?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 우리반의 에어컨의 하루동안 작동시간이 가장 긴 날짜를 알고싶어함. 따로 명시된 시간 범위가 없으므로 지난 1주일 동안의 oper 데이터를 쿼리한 후 하루동안 oper=true인 시간이 가장 긴 날짜를 반환하면 됨. 단 추측한 시간 범위를 사용자에게 알려주어야 함.",
            "Expectations": [
                "우리반은 지난 1주일 이내 {{longest_oper_dates}}에 에어컨을 가장 오래({{longest_oper_time_in_hours}}시간) 작동했습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            
                            "oper"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '7 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))",
                        "spatials": ["01_IB5"]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "qr['date'] = qr['timestamp'].dt.date;daily_oper_time = qr.groupby('date')['oper'].sum();longest_oper_time = daily_oper_time.max();longest_oper_dates = daily_oper_time[daily_oper_time == longest_oper_time].index;longest_oper_time_in_hours = longest_oper_time * (qr['timestamp'].diff().dt.total_seconds() / 3600).mean();",
                    "returns": [
                        "longest_oper_dates",
                        "longest_oper_time_in_hours"
                    ]
                }
            ]
        }
    }, {
        "Input": "3주전 우리반 평균 실내온도 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 3주전 하루 동안 우리반의 평균 실내온도를 알고 싶어합니다. 해당 기간의 실내온도 데이터를 쿼리하여 평균값을 계산하면 됩니다.",
            "Expectations": [
                "3주전 우리반의 평균 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '21 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '20 day'))",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난달 오늘 오후 2시에 옆반의 설정온도는 어땠어?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난달 오늘 특정 시각(오후 2시)에 옆반의 설정온도를 알고 싶어합니다. 해당 시간대의 설정온도 데이터를 쿼리하여 평균을 반환하면 됩니다.",
            "Expectations": [
                "지난달 오늘 오후 2시 옆반의 설정온도는 {{settemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 month') + INTERVAL '14 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 month') + INTERVAL '15 hours')",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp_avg = qr['settemp'].mean();",
                    "returns": [
                        "settemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오후 4시부터 6시까지 실내온도 평균 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 오늘 오후 4시부터 6시까지의 시간 동안 우리반의 실내온도 평균을 알고 싶어합니다. 해당 시간 범위의 실내온도 데이터를 쿼리하여 평균값을 계산하면 됩니다.",
            "Expectations": [
                "오늘 오후 4시부터 6시까지 우리반의 평균 실내온도는 {{roomtemp_avg}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '16 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '18 hours')",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_avg = qr['roomtemp'].mean();",
                    "returns": [
                        "roomtemp_avg"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 수요일 실내온도 최고값 알려줘",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 지난주 수요일 하루 동안 우리반의 최고 실내온도를 알고 싶어합니다. 해당 날짜의 실내온도 데이터를 쿼리하여 최고값을 반환하면 됩니다.",
            "Expectations": [
                "지난주 수요일 우리반의 최고 실내온도는 {{roomtemp_max}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week') + INTERVAL '2 day', DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week') + INTERVAL '3 day')",
                        "spatials": [
                            "01_IB5"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp_max = qr['roomtemp'].max();",
                    "returns": [
                        "roomtemp_max"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오전 11시에 옆반의 실내온도는 어땠어?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 오늘 오전 11시의 옆반 실내온도 값을 알고 싶어합니다. 해당 시간의 실내온도 데이터를 쿼리하여 값을 반환하면 됩니다.",
            "Expectations": [
                "오늘 오전 11시 옆반의 실내온도는 {{roomtemp}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "roomtemp"
                        ],
                        "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '11 hours'",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "roomtemp = qr['roomtemp'].values[0];",
                    "returns": [
                        "roomtemp"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 오후 2시에 옆반의 설정온도는 어땠어?",
        "Tags": ["Normal"],
        "Response": {
            "Thinking": "사용자는 오늘 오후 2시의 옆반 설정온도 값을 알고 싶어합니다. 해당 시간의 설정온도 데이터를 쿼리하여 값을 반환하면 됩니다.",
            "Expectations": [
                "오늘 오후 2시 옆반의 설정온도는 {{settemp}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "table_name": "data_t",
                        "columns": [
                            "settemp"
                        ],
                        "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '14 hours'",
                        "spatials": [
                            "01_IB7"
                        ]
                    },
                    "result_name": "qr"
                }, {
                    "type": "o",
                    "script": "settemp = qr['settemp'].values[0];",
                    "returns": [
                        "settemp"
                    ]
                }
            ]
        }
    }
]