[
    {
        "Input": "어제 우리반과 옆반의 설정온도 차이 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "어제 우리반과 옆반의 설정온도를 쿼리한 후 각 반의 평균 설정온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
                "어제 우리반의 설정온도({{어제_우리반_설정온도_평균}}℃)는 옆반의 설정온도({{어제_옆반_설정온도_평균}}℃)보다 {{어제_설정온도_평균의_차이}}℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "어제": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_오늘_우리반_실내온도_df = data(t='오늘',s='우리반',m='실내온도')",
                        "v_오늘_옆반_실내온도_df = data(t='오늘',s='옆반',m='실내온도')",
                        "v_오늘_우리반_실내온도_평균 = v_오늘_우리반_실내온도_df.mean()",
                        "v_오늘_옆반_실내온도_평균 = v_오늘_옆반_실내온도_df.mean()",
                        "v_오늘_실내온도_평균의_차이 = v_오늘_우리반_실내온도_평균 - v_오늘_옆반_실내온도_평균"
                    ]
                }
            ]
        }
    },
    {
        "Input": "오늘 우리반과 옆반의 평균 온도차이 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 오늘 하루 평균 우리반과 옆반의 실내온도의 차이를 알고 싶어함. 사용자는 차이 결과 뿐만 아니라 계산에 사용된 각 반의 평균 실내온도 값도 궁금할 것임. 오늘 하루 우리반과 옆반의 실내온도를 쿼리한 후 각 반의 평균 실내온도 및 그 차이를 계산하여 반환하면 됨.",
            "Expectations": [
                "우리반({{오늘_우리반_실내온도_평균}}℃)이 옆반({{오늘_옆반_실내온도_평균}}℃)보다 {{오늘_실내온도_평균의_차이}}℃ 높습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "오늘": "[DATE_TRUNC('day', DATE 'CURRENT_DATE'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_오늘_우리반_실내온도_df = data(t='오늘',s='우리반',m='실내온도')",
                        "v_오늘_옆반_실내온도_df = data(t='오늘',s='옆반',m='실내온도')",
                        "v_오늘_우리반_실내온도_평균 = v_오늘_우리반_실내온도_df.mean()",
                        "v_오늘_옆반_실내온도_평균 = v_오늘_옆반_실내온도_df.mean()",
                        "v_오늘_실내온도_평균의_차이 = v_오늘_우리반_실내온도_평균 - v_오늘_옆반_실내온도_평균"
                    ]
                }
            ]
        }
    },
    {
        "Input": "작년 겨울 우리반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 1년 전 12월 ~ 올해 2월의 평균 실내온도를 알고 싶어함. 우리반의 1년 전 겨울(12월 ~ 2월) 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "작년 겨울(2021-12 ~ 2022-02) 우리반의 평균 온도는 {{작년겨울_우리반_실내온도_평균}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "작년겨울": "[DATE 'CURRENT_YEAR-12-01' - INTERVAL '1 year', DATE 'CURRENT_YEAR-03-01')"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_작년겨울_우리반_실내온도_df = data(t='작년겨울',s='우리반',m='실내온도')",
                        "v_작년겨울_우리반_실내온도_평균 = v_작년겨울_우리반_실내온도_df.mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 여름 앞반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 올해 6월 ~ 8월 앞반의 평균 실내온도를 알고 싶어함. 올해 여름(6월 ~ 8월) 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "올해 여름(6월 ~ 8월) 앞반의 평균 온도는 {{올해여름_앞반_실내온도_평균}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "올해여름": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')"
                        },
                        "spatials": {
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_올해여름_앞반_실내온도_df = data(t='올해여름',s='앞반',m='실내온도')",
                        "v_올해여름_앞반_실내온도_평균 = v_올해여름_앞반_실내온도_df.mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 봄 옆반 제일 추웠던 날 알려줘",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare",
                "Implicit modality"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 올해 3월 ~ 5월 옆반의 실내온도가 제일 낮았던 날짜를 알고 싶어함. 올해 3월 ~ 5월 옆반의 실내온도를 쿼리한 후 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "올해 봄(3월 ~ 5월) 옆반은 {{올해봄_옆반_실내온도_최소_날짜}}에 {{올해봄_옆반_실내온도_최소}}℃로 제일 추웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "올해봄": "[DATE 'CURRENT_YEAR-03-01', DATE 'CURRENT_YEAR-06-01')"
                        },
                        "spatials": {
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_올해봄_옆반_실내온도_df = data(t='올해봄',s='옆반',m='실내온도')",
                        "v_올해봄_옆반_실내온도_최소 = v_올해봄_옆반_실내온도_df.min()",
                        "v_올해봄_옆반_실내온도_최소_날짜 = get_dates(v_올해봄_옆반_실내온도_df[v_올해봄_옆반_실내온도_df == v_올해봄_옆반_실내온도_최소])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "4월 앞반 평균온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 4월 한달간 앞반의 평균 실내온도를 알고 싶어함. 4월 한달간 앞반의 실내온도를 쿼리한 후 평균값을 계산하여 반환하면 됨.",
            "Expectations": [
                "4월 앞반의 평균 온도는 {{4월_앞반_평균_실내온도}}℃ 입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "4월": "[DATE 'CURRENT_YEAR-04-01', DATE 'CURRENT_YEAR-05-01')"
                        },
                        "spatials": {
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_4월_앞반_실내온도_df = data(t='4월',s='앞반',m='실내온도')",
                        "v_4월_앞반_평균_실내온도 = v_4월_앞반_실내온도_df.mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 우리반 온도가 가장 덜 더운날이 언제야?",
        "Tags": {
            "Style": [
                "ArgMinMax/Compare",
                "Implicit modality"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "사용자는 이번달 우리반의 일평균 실내온도가 가장 낮았던 날짜를 알고 싶어함. 이번달 우리반의 실내온도를 쿼리한 후 일평균 실내온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "이번달 우리반은 {{이번달_우리반_최소실내온도_날짜}}에 {{이번달_우리반_최소실내온도}}℃로 가장 덜 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "이번달": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_이번달_우리반_실내온도_df = data(t='이번달',s='우리반',m='실내온도')",
                        "v_이번달_우리반_최소실내온도 = v_이번달_우리반_실내온도_df.min()",
                        "v_이번달_우리반_최소실내온도_날짜 = get_dates(v_이번달_우리반_실내온도_df[v_이번달_우리반_실내온도_df == v_이번달_우리반_최소실내온도])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은날이 언제야?",
        "Tags": {
            "Style": [
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Dates"
            ]
        },
        "Response": {
            "Thinking": "2주전은 정확히 말하면 2주전 한주 (월~일)동안임. 사용자는 2주전 월요일부터 일요일까지 우리반과 옆반의 설정온도가 가장 낮았던 날짜를 알고 싶어함. 2주전 우리반과 옆반의 설정온도를 쿼리한 후 설정온도가 가장 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "2주전 우리반과 옆반 합쳐서 설정온도가 가장 낮은 날은 {{2주전_우리반과옆반_최소설정온도_날짜}}로 {{2주전_우리반과옆반_최소설정온도}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "2주전": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_2주전_우리반과옆반_설정온도_df = data(t='2주전',s=['우리반','옆반'],m='설정온도')",
                        "v_2주전_우리반과옆반_최소설정온도 = v_2주전_우리반과옆반_설정온도_df.min()",
                        "v_2주전_우리반과옆반_최소설정온도_날짜 = get_dates(v_2주전_우리반과옆반_설정온도_df[v_2주전_우리반과옆반_설정온도_df == v_2주전_우리반과옆반_최소설정온도])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 뒷반 온도가 가장 더운날이 언제야?",
        "Tags": {
            "Style": [
                "Unknown",
                "ArgMinMax/Compare"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "사용자는 이번달 뒷반의 실내온도가 가장 더운날이 언제인지 물어봄. 이번달 뒷반의 실내온도를 쿼리한 후 실내온도가 가장 높은 날을 찾아 그 날짜와 온도를 반환하면 됨.",
            "Expectations": [
                "이번달 뒷반은 {{이번달_뒷반_최대실내온도_날짜}}에 {{이번달_뒷반_최대실내온도}}℃로 가장 더웠습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "이번달": "[DATE_TRUNC('month', DATE 'CURRENT_DATE'), DATE_TRUNC('month', DATE 'CURRENT_DATE' + INTERVAL '1 month'))"
                        },
                        "spatials": {
                            "뒷반": "Unknown"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                }
            ]
        }
    },
    {
        "Input": "우리반의 가장 최근 설정 온도 알려줘",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp",
                "Time"
            ]
        },
        "Response": {
            "Thinking": "사용자는 우리반의 가장 최근 설정온도를 알고 싶어함. 가장 최근 설정온도를 쿼리한 후 그 일시와 온도를 반환하면 됨.",
            "Expectations": [
                "우리반의 가장 최근 설정온도는 {{가장최근_우리반_일시}}에 설정된 {{가장최근_우리반_설정온도}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "최근": "LAST_RECORD"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_가장최근_우리반_설정온도_df = data(t='최근',s='우리반',m='설정온도')",
                        "v_가장최근_우리반_일시, v_가장최근_우리반_설정온도 = get_recent(v_가장최근_우리반_설정온도_df, target='m')"
                    ]
                }
            ]
        }
    },
    {
        "Input": "8일전 설정온도는?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit spatial"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "공간 정보가 없으므로 우리반으로 추측함. 사용자는 8일 전 우리반의 설정온도를 알고 싶어함. 8일 전 설정온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "8일전 우리반의 평균 설정온도는 {{8일전_우리반_평균_설정온도}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "8일전": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '8 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '7 day'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_8일전_우리반_설정온도_df = data(t='8일전',s='우리반',m='설정온도')",
                        "v_8일전_우리반_평균_설정온도 = v_8일전_우리반_설정온도_df.mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "10년 전 오늘 우리반 온도는?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get",
                "Implicit modality"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 10년 전 오늘 우리반의 실내온도를 알고 싶어함. 10년 전 오늘 우리반의 실내온도의 하루 평균값을 반환하면 됨.",
            "Expectations": [
                "10년 전 오늘 우리반의 실내온도는 {{10년전오늘_우리반_실내온도_평균}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "10년전 오늘": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '10 year' + INTERVAL '1 day'))"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_10년전오늘_우리반_실내온도_df = data(t='10년전오늘',s='우리반',m='실내온도')",
                        "v_10년전오늘_우리반_실내온도_평균 = v_10년전오늘_우리반_실내온도_df.mean()"
                    ]
                }
            ]
        }
    },
    {
        "Input": "롯데캐슬의 현재 온도 알려줘",
        "Tags": {
            "Style": [
                "Unknown",
                "Avg/Diff/Get"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "사용자는 롯데캐슬의 현재 실내온도를 알고 싶어함. 롯데캐슬의 현재 실내온도값을 반환하면 됨.",
            "Expectations": [
                "롯데캐슬의 현재 실내온도는 {{현재_롯데캐슬_실내온도}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "현재": "LAST_RECORD"
                        },
                        "spatials": {
                            "롯데캐슬": "Unknown"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                }
            ]
        }
    },
    {
        "Input": "1층 평균 실내온도 알려줘",
        "Tags": {
            "Style": [
                "Unknown",
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 1층의 공간 평균 실내온도를 알고 싶어함. 현재 1층에 속한 모든 공간의 실내온도의 평균값을 반환하면 됨.",
            "Expectations": [
                "1층의 평균 실내온도는 {{현재_1층_실내온도_평균}}℃입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "현재": "LAST_RECORD"
                        },
                        "spatials": {
                            "1층": "Unknown"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                }
            ]
        }
    },
    {
        "Input": "우리반, 옆반, 앞반 중 가장 추운 방은?",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반, 옆반, 앞반 중 가장 추운 방을 알고싶어함.현재 세 방의 실내온도를 쿼리한 후 가장 낮은 실내온도를 가진 방과 그 온도를 반환하면 됨.",
            "Expectations": [
                "지금 세 방 중 {{가장추운_방}}이(가) {{실내온도_최저}}℃로 가장 추워요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "현재": "LAST_RECORD"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "옆반": "01_IB7",
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_현재_방별_실내온도_df = data(t='현재',s=['우리반','옆반','앞반'],m='실내온도')",
                        "v_실내온도_최저 = v_현재_방별_실내온도_df.min()",
                        "v_가장추운_방 = get_rooms(v_현재_방별_실내온도_df[v_현재_방별_실내온도_df==v_실내온도_최저])"
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 에너지 사용량 알려줘",
        "Tags": {
            "Style": [
                "Unknown"
            ],
            "Returns": []
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반의 에너지 사용량을 알고싶어함. 현재 우리반의 에너지 사용량을 쿼리한 후 반환하면 됨.",
            "Expectations": [
                "현재 우리반의 에너지 사용량은 {{현재_우리반_에너지_사용량}}kWh입니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "현재": "LAST_RECORD"
                        },
                        "spatials": {
                            "우리반": "01_IB5"
                        },
                        "modalities": {
                            "에너지 사용량": "Unknown"
                        }
                    }
                }
            ]
        }
    },
    {
        "Input": "지난달 오늘 오후 2시에 옆반의 설정온도는 어땠어?",
        "Tags": {
            "Style": [
                "Avg/Diff/Get"
            ],
            "Returns": [
                "Temp"
            ]
        },
        "Response": {
            "Thinking": "사용자는 지난달 오늘 오후 2시에 옆반의 설정온도를 알고 싶어합니다. 해당 시간대의 설정온도 데이터를 쿼리한 후 반환하면 됩니다.",
            "Expectations": [
                "지난달 오늘 오후 2시 옆반의 설정온도는 {{지난달오늘오후2시_옆반_설정온도}}℃였습니다."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "지난달오늘오후2시": "DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 month') + INTERVAL '14 hours'"
                        },
                        "spatials": {
                            "옆반": "01_IB7"
                        },
                        "modalities": {
                            "설정온도": "settemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_지난달오늘오후2시_옆반_설정온도_df = data(t='지난달오늘오후2시',s='옆반',m='설정온도')",
                        "v_지난달오늘오후2시_옆반_설정온도 = v_지난달오늘오후2시_옆반_설정온도_df.values[0]"
                    ]
                }
            ]
        }
    }
]