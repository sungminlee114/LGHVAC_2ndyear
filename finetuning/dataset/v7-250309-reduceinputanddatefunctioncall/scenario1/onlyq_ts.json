[
    {
      "Input": "이번주 우리반과 앞반의 평균 온도 알려줘",
      "Tags": {
        "Style": ["Avg/Diff/Get","Implicit modality"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 이번주 우리반과 앞반의 실내온도의 평균을 알고싶어함. 이번주 우리반과 앞반의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
        "Expectations": [
          "이번주 우리반의 평균 실내온도({{이번주_우리반_실내온도_평균}}℃)와 앞반의 평균 실내온도({{이번주_앞반_실내온도_평균}}℃)의 차이는 {{이번주_실내온도_평균_차이}}℃입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "이번주": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))"
              },
              "spatials": {
                "우리반": "01_IB5",
                "앞반": "02_I81"
              },
              "modalities": {
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_이번주_우리반_df = data(t='이번주',s='우리반',m='실내온도')",
              "v_이번주_앞반_df = data(t='이번주',s='앞반',m='실내온도')",
              "v_이번주_우리반_실내온도_평균 = v_이번주_우리반_df['실내온도'].mean()",
              "v_이번주_앞반_실내온도_평균 = v_이번주_앞반_df['실내온도'].mean()",
              "v_이번주_실내온도_평균_차이 = abs(v_이번주_우리반_실내온도_평균 - v_이번주_앞반_실내온도_평균)"
            ]
          }
        ]
      }
    },
    {
      "Input": "현재 설정온도랑 실내온도 차이 알려줘.",
      "Tags": {
        "Style": ["Implicit spatial","Avg/Diff/Get"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 현재 우리반의 설정온도와 실내온도의 차이를 알고싶어함. 현재 우리반의 설정온도와 실내온도 데이터를 쿼리한 후 차이를 계산하면 됨.",
        "Expectations": [
          "현재 설정온도({{현재_우리반_설정온도}}℃)와 실내온도({{현재_우리반_실내온도}}℃)의 차이는 {{현재_우리반_온도_차이}}℃입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "현재": "LAST_RECORD"
              },
              "spatials": {
                "우리반": "01_IB5"
              },
              "modalities": {
                "설정온도": "settemp",
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_현재_우리반_df = data(t='현재',s='우리반',m=['설정온도','실내온도'])",
              "v_현재_우리반_설정온도 = v_현재_우리반_df['설정온도'].values[0]",
              "v_현재_우리반_실내온도 = v_현재_우리반_df['실내온도'].values[0]",
              "v_현재_우리반_온도_차이 = abs(v_현재_우리반_설정온도 - v_현재_우리반_실내온도)"
            ]
          }
        ]
      }
    },
    {
        "Input": "지난달에 설정온도와 실내온도 차이가 가장 많이 났던 날은?",
        "Tags": {
          "Style": ["Implicit spatial","ArgMinMax/Compare"],
          "Returns": ["Temp","Dates"]
        },
        "Response": {
          "Thinking": "사용자는 지난달 우리반 설정온도와 실내온도 차이가 가장 컸던 날짜를 알고 싶어함. 지난달 우리반의 설정온도와 실내온도 데이터를 쿼리한 후 차이를 계산하면 됨.",
          "Expectations": [
            "지난달 {{지난달_우리반_온도차이_최고_날짜}}에 설정온도({{지난달_우리반_온도차이_최고_설정온도}}℃)와 실내온도({{지난달_우리반_온도차이_최고_실내온도}}℃) 차이가 {{지난달_우리반_온도차이_최고}}℃로 가장 컸습니다."
          ],
          "Instructions": [
            {
              "type": "q",
              "args": {
                "temporal": {
                  "지난달": "[DATE_TRUNC('month', DATE 'CURRENT_DATE') - INTERVAL '1 month', DATE_TRUNC('month', DATE 'CURRENT_DATE'))"
                },
                "spatials": {
                  "우리반": "01_IB5"
                },
                "modalities": {
                  "설정온도": "settemp",
                  "실내온도": "roomtemp"
                }
              }
            },
            {
              "type": "o",
              "script": [
                "v_지난달_우리반_df = data(t='지난달',s='우리반',m=['설정온도','실내온도'])",
                "v_지난달_우리반_df['온도차이'] = v_지난달_우리반_df['설정온도'] - v_지난달_우리반_df['실내온도']",
                "v_지난달_우리반_온도차이_최고 = v_지난달_우리반_df['온도차이'].max()",
                "v_지난달_우리반_온도차이_최고_df = v_지난달_우리반_df[v_지난달_우리반_df['온도차이'] == v_지난달_우리반_온도차이_최고]",
                "v_지난달_우리반_온도차이_최고_날짜 = get_time(v_지난달_우리반_온도차이_최고_df, fmt='date')",
                "v_지난달_우리반_온도차이_최고_설정온도 = v_지난달_우리반_온도차이_최고_df['설정온도'].values[0]",
                "v_지난달_우리반_온도차이_최고_실내온도 = v_지난달_우리반_온도차이_최고_df['실내온도'].values[0]"
              ]
            }
          ]
        }
    },
    {
      "Input": "이번주 우리반과 옆반의 평균 실내온도 차이 알려줘",
      "Tags": {
        "Style": ["Avg/Diff/Get"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 이번주 우리반과 옆반의 평균 실내온도 차이를 알고싶어함. 이번주 우리반과 옆반의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
        "Expectations": [
          "이번주 우리반 평균 실내온도({{이번주_우리반_실내온도_평균}}℃)와 옆반 평균 실내온도({{이번주_옆반_실내온도_평균}}℃) 차이는 {{이번주_실내온도_평균_차이}}℃입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "이번주": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))"
              },
              "spatials": {
                "우리반": "01_IB5",
                "옆반": "01_IB7"
              },
              "modalities": {
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_이번주_우리반_df = data(t='이번주',s='우리반',m='실내온도')",
              "v_이번주_옆반_df = data(t='이번주',s='옆반',m='실내온도')",
              "v_이번주_우리반_실내온도_평균 = v_이번주_우리반_df['실내온도'].mean()",
              "v_이번주_옆반_실내온도_평균 = v_이번주_옆반_df['실내온도'].mean()",
              "v_이번주_실내온도_평균_차이 = abs(v_이번주_우리반_실내온도_평균 - v_이번주_옆반_실내온도_평균)"
            ]
          }
        ]
      }
    },
    {
      "Input": "2주전 가장 더웠던 날 알려줘",
      "Tags": {
        "Style": ["Implicit spatial","ArgMinMax/Compare", "Implicit modality"],
        "Returns": ["Temp","Dates"]
      },
      "Response": {
        "Thinking": "사용자는 2주전 우리반의 실내온도가 가장 높았던 날짜를 알고 싶어함. 2주전 우리반의 실내온도 데이터를 쿼리한 후 최고값을 기록한 날짜와 값을 반환하면 됨.",
        "Expectations": [
          "2주전 {{2주전_우리반_실내온도_최고_날짜}}에 실내온도({{2주전_우리반_실내온도_최고_실내온도}}℃)가 가장 높았습니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "2주전": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '2 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'))"
              },
              "spatials": {
                "우리반": "01_IB5"
              },
              "modalities": {
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_2주전_우리반_df = data(t='2주전',s='우리반',m='실내온도')",
              "v_2주전_우리반_실내온도_최고 = v_2주전_우리반_df['실내온도'].max()",
              "v_2주전_우리반_실내온도_최고_df = v_2주전_우리반_df[v_2주전_우리반_df['실내온도'] == v_2주전_우리반_실내온도_최고]",
              "v_2주전_우리반_실내온도_최고_날짜 = get_time(v_2주전_우리반_실내온도_최고_df, fmt='date')",
              "v_2주전_우리반_실내온도_최고_실내온도 = v_2주전_우리반_실내온도_최고_df['실내온도'].values[0]"
            ]
          }
        ]
      }
    },
    {
      "Input": "화성의 설정온도 확인해줘",
      "Tags": {
        "Style": ["Unknown"],
        "Returns": []
      },
      "Response": {
        "Thinking": "사용자는 현재 화성의 설정온도를 알고 싶어함. 현재 화성의 설정온도 데이터를 쿼리한 후 값을 반환하면 됨.",
        "Expectations": [
          "현재 화성의 설정온도는 {{현재_화성_설정온도}}℃입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
                "temporal": {
                  "현재": "LAST_RECORD"
                },
                "spatials": {
                  "화성": "Unknown"
                },
                "modalities": {
                  "설정온도": "settemp"
                }
              }
            }
          ]
        }
    },
    {
      "Input": "옆반 습도 알려줘",
      "Tags": {
        "Style": ["Unknown"],
        "Returns": []
      },
      "Response": {
        "Thinking": "사용자는 옆반의 현재 습도를 알고 싶어함. 옆반의 현재 습도 데이터를 쿼리한 후 값을 반환하면 됨.",
        "Expectations": [
          "옆반의 현재 습도는 {{옆반_습도}}%입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "현재": "LAST_RECORD"
              },
              "spatials": {
                "옆반": "01_IB7"
              },
              "modalities": {
                "습도": "Unknown"
              }
            }
          }
        ]
      }
    },
    {
      "Input": "지난 3일 동안 우리반 실내 온도 평균 값 알려줘.",
      "Tags": {
        "Style": ["Avg/Diff/Get"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 지난 3일 동안 우리반의 실내온도 평균값을 알고 싶어함. 지난 3일 동안 우리반의 실내온도 데이터를 쿼리한 후 평균값을 계산하면 됨.",
        "Expectations": [
          "지난 3일간 우리반 실내온도 평균값은 {{지난3일_우리반_실내온도_평균}}℃였습니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "지난3일": "[DATE 'CURRENT_DATE' - INTERVAL '3 days', DATE 'CURRENT_DATE']"
              },
              "spatials": {
                "우리반": "01_IB5"
              },
              "modalities": {
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_지난3일_우리반_실내온도_df = data(t='지난3일',s='우리반',m='실내온도')",
              "v_지난3일_우리반_실내온도_평균 = v_지난3일_우리반_실내온도_df['실내온도'].mean()"
            ]
          }
        ]
      }
    },
    {
      "Input": "오늘 오후 5시에 옆반의 설정온도는 어땠어?",
      "Tags": {
        "Style": ["Avg/Diff/Get"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 오늘 오후 5시에 옆반의 설정온도를 알고 싶어함. 오늘 오후 5시에 옆반의 설정온도 데이터를 쿼리한 후 값을 반환하면 됨.",
        "Expectations": [
          "오늘 오후 5시 옆반의 설정온도는 {{오늘오후5시_옆반_설정온도}}℃였습니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "오늘오후5시": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '17 hours'"
              },
              "spatials": {
                "옆반": "01_IB7"
              },
              "modalities": {
                "설정온도": "settemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_오늘오후5시_옆반_df = data(t='오늘오후5시',s='옆반',m='설정온도')",
              "v_오늘오후5시_옆반_설정온도 = v_오늘오후5시_옆반_df['설정온도'].values[0]"
            ]
          }
        ]
      }
    },
    {
      "Input": "올해 여름 우리반 실내온도 최대값과 최소값 알려줘",
      "Tags": {
        "Style": ["MinMax"],
        "Returns": ["Temp"]
      },
      "Response": {
        "Thinking": "사용자는 올해 6월 ~ 8월 동안 우리반의 실내온도 최대값과 최소값을 알고 싶어함. 올해 6월 ~ 8월 동안 우리반의 실내온도 데이터를 쿼리한 후 최대값과 최소값을 계산하면 됨.",
        "Expectations": [
          "올해 여름(6월 ~ 8월) 우리반의 실내온도 최대값과 최소값은 각각 {{올해여름_우리반_실내온도_최대}}℃와 {{올해여름_우리반_실내온도_최소}}℃입니다."
        ],
        "Instructions": [
          {
            "type": "q",
            "args": {
              "temporal": {
                "올해여름": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')"
              },
              "spatials": {
                "우리반": "01_IB5"
              },
              "modalities": {
                "실내온도": "roomtemp"
              }
            }
          },
          {
            "type": "o",
            "script": [
              "v_올해여름_우리반_df = data(t='올해여름',s='우리반',m='실내온도')",
              "v_올해여름_우리반_실내온도_최대 = v_올해여름_우리반_df['실내온도'].max()",
              "v_올해여름_우리반_실내온도_최소 = v_올해여름_우리반_df['실내온도'].min()"
            ]
          }
        ]
      }
    }, {
        "Input": "우리반과 앞반 중 가장 더운 방은?",
        "Tags": {
            "Style": [
                "Implicit temporal",
                "ArgMinMax/Compare"
            ],
            "Returns": [
                "Temp",
                "Spatial"
            ]
        },
        "Response": {
            "Thinking": "사용자는 현재 우리반과 앞반 중 실내온도가 최고인 방을 알고싶어함.현재 두 방의 실내온도를 쿼리한 후 실내온도가 최고인 방과 그 온도를 반환하면 됨.",
            "Expectations": [
                "현재 두 방 중 {{현재_실내온도_최고_방}}이(가) {{현재_실내온도_최고}}℃로 가장 더운 방이에요."
            ],
            "Instructions": [
                {
                    "type": "q",
                    "args": {
                        "temporal": {
                            "현재": "LAST_RECORD"
                        },
                        "spatials": {
                            "우리반": "01_IB5",
                            "앞반": "02_I81"
                        },
                        "modalities": {
                            "실내온도": "roomtemp"
                        }
                    }
                },
                {
                    "type": "o",
                    "script": [
                        "v_현재_방별_실내온도_df = data(t='현재',s=['우리반','앞반'],m='실내온도')",
                        "v_현재_실내온도_최고 = v_현재_방별_실내온도_df['실내온도'].max()",
                        "v_현재_실내온도_최고_df = v_현재_방별_실내온도_df[v_현재_방별_실내온도_df['실내온도'] == v_현재_실내온도_최고]",
                        "v_현재_실내온도_최고_방 = get_spatials(v_현재_실내온도_최고_df)"
                    ]
                }
            ]
        }
    }
  ]
  