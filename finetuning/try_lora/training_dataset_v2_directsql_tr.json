[
    {
        "Input": "오늘 우리반과 옆반의 평균 온도차이 알려줘",
        "Response": {
            "Formalized Input": "오늘 우리반과 옆반의 평균 실내온도 차이 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "오늘": "2022-09-30 00:00:00 ~ 2022-09-30 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5",
                    "옆반": "01_IB7"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "평균의 차이"
                ]
            },
            "Strategy": {
                "Objective": "오늘 우리반과 옆반 각각의 평균 실내온도 쿼리 후, 두 값의 차이를 계산함.",
                "Expected Outputs": [
                    "우리반(19.3℃)이 옆반(17.0℃)보다 2.3℃ 높습니다."
                ],
                "Step": [
                    "우리반의 오늘 실내온도 쿼리결과 qr_roomtemp_ours 에 저장",
                    "옆반의 오늘 실내온도 쿼리결과 qr_roomtemp_beside 에 저장",
                    "각 반의 실내온도 평균 계산",
                    "각 반의 평균 실내온도와 차이 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-30 00:00:00' AND '2022-09-30 23:59:59'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_ours"
                    }
                },
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-30 00:00:00' AND '2022-09-30 23:59:59'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB7')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_beside"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "avg_roomtemp_ours = qr_roomtemp_ours['roomtemp'].mean(); avg_roomtemp_beside = qr_roomtemp_beside['roomtemp'].mean(); temp_diff = avg_roomtemp_ours - avg_roomtemp_beside",
                    "return": [
                        "avg_roomtemp_ours",
                        "avg_roomtemp_beside",
                        "temp_diff"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "{room_with_higher_temp}({avg_roomtemp_higher}℃)이 {room_with_lower_temp}({avg_roomtemp_lower}℃) 보다 {temp_diff}℃ 만큼 높습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "올해 여름 우리반 평균온도 알려줘",
        "Response": {
            "Formalized Input": "올해 여름 우리반의 평균 실내온도 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "올해 여름": "2022-06-01 00:00:00 ~ 2022-08-31 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "settemp"
                },
                "Operation": [
                    "평균"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 실내온도 데이터 중 올해 여름 데이터만 쿼리 후, 평균값 계산.",
                "Expected Outputs": [
                    "올해 여름 우리반의 평균 온도는 26℃ 입니다."
                ],
                "Step": [
                    "우리반의 실내온도 데이터 중 올해 여름 데이터만 쿼리결과 qr_roomtemp_summer에 저장",
                    "qr_roomtemp_summer에서 roomtemp의 평균값 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-06-01 00:00:00' AND '2022-08-31 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_summer"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "avg_roomtemp = qr_roomtemp_summer['roomtemp'].mean()",
                    "return": [
                        "avg_roomtemp"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "올해 여름 우리반의 평균 온도는 {avg_roomtemp}℃ 입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "이번달 중 우리반 온도가 가장 더운날이 언제야?",
        "Response": {
            "Formalized Input": "이번달 우리반 실내온도가 최고인 날짜 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "이번달": "2022-09-01 00:00:00 ~ 2022-09-30 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "최고"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 실내온도 데이터 중 이번달 데이터만 쿼리 후, 가장 높은 온도를 가진 날짜를 찾음.",
                "Expected Outputs": [
                    "이번달 우리반은 15일에 30℃로 가장 더웠습니다."
                ],
                "Step": [
                    "우리반의 실내온도 데이터 중 이번달 데이터만 쿼리결과 qr_roomtemp_thismonth에 저장",
                    "qr_roomtemp_thismonth에서 실내온도의 최고값 및 해당 날짜 찾기",
                    "최고온도 및 해당 날짜 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "timestamp",
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-01 00:00:00' AND '2022-09-30 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_thismonth"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "max_temp = qr_roomtemp_thismonth['roomtemp'].max(); max_temp_date = qr_0.loc[qr_0['roomtemp'].idxmax(), 'timestamp']",
                    "return": [
                        "max_temp",
                        "max_temp_date"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "이번달 우리반은 {max_temp_date}일에 {max_temp}℃로 가장 더웠습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반과 옆반중 더 추운곳은 어디야?",
        "Response": {
            "Formalized Input": "지금 우리반과 옆반 중 실내온도가 더 낮은 곳을 찾아줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "우리반": "01_IB5",
                    "옆반": "01_IB7"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "최저"
                ]
            },
            "Strategy": {
                "Objective": "현재 우리반과 옆반의 실내온도 중 가장 낮은 온도를 가진 반을 찾고, 두 온도의 차이를 계산.",
                "Expected Outputs": [
                    "옆반(17.0℃)이 우리반(19.3℃)보다 2.3℃ 더 낮아요."
                ],
                "Step": [
                    "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_ours에 저장",
                    "옆반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_beside에 저장",
                    "두 반의 실내온도를 비교하여 더 낮은 온도를 가진 반을 찾음",
                    "각 반의 실내온도 및 차이 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB5'))"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_ours"
                    }
                },
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB7'))"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_beside"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "roomtemp_ours = qr_roomtemp_ours['roomtemp'].values[0]; roomtemp_beside = qr_roomtemp_beside['roomtemp'].values[0]; temp_diff = roomtemp_ours - roomtemp_beside",
                    "return": [
                        "roomtemp_ours",
                        "roomtemp_beside",
                        "temp_diff"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "{room_with_lower_temp}({roomtemp_lower}℃)이 {room_with_higher_temp}({roomtemp_higher}℃)보다 {temp_diff}℃ 더 낮아요."
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어컨 켜져있어?",
        "Response": {
            "Formalized Input": "지금 우리반 에어컨 전원 상태 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "에어컨 전원": "oper"
                }
            },
            "Strategy": {
                "Objective": "현재 우리반의 에어컨 전원 상태를 조회함.",
                "Expected Outputs": [
                    "우리반의 에어컨은 현재 켜져있습니다."
                ],
                "Step": [
                    "우리반의 현재 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장",
                    "qr_aircon_oper에서 에어컨 전원 상태 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "oper"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_aircon_oper"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "oper_status = qr_aircon_oper['oper'].values[0]",
                    "return": [
                        "oper_status"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "우리반의 에어컨은 현재 {oper_status}입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "앞반 지금 전원 켜져있어?",
        "Response": {
            "Formalized Input": "지금 앞반의 에어컨 전원 상태 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "앞반": "02_IB1"
                },
                "Modality": {
                    "에어컨 전원": "oper"
                }
            },
            "Strategy": {
                "Objective": "현재 앞반의 에어컨 전원 상태를 조회함.",
                "Expected Outputs": [
                    "앞반의 에어컨은 현재 꺼져있습니다."
                ],
                "Step": [
                    "앞반의 현재 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장",
                    "qr_aircon_oper에서 에어컨 전원 상태 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "oper"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '02_IB1')"
                        }
                    },
                    "result": {
                        "name": "qr_aircon_oper"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "oper_status = qr_aircon_oper['oper'].values[0]",
                    "return": [
                        "oper_status"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "앞반의 에어컨은 현재 {oper_status}입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "어제 전원 껐어?",
        "Response": {
            "Formalized Input": "어제 우리반 에어컨 전원 상태 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "어제": "2022-09-29 00:00:00 ~ 2022-09-29 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "에어컨 전원": "oper"
                }
            },
            "Strategy": {
                "Objective": "어제동안 우리반의 에어컨 전원 상태를 조회함.",
                "Expected Outputs": [
                    "어제 우리반의 에어컨은 꺼져있습니다.",
                    "어제 우리반의 에어컨은 17시부터 19시까지 켜져있었습니다."
                ],
                "Step": [
                    "우리반의 어제 하루 시간별 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장",
                    "qr_aircon_oper에서 에어컨 전원이 특정 상태(켜짐/꺼짐)인 시간대 찾기",
                    "상태별 시간대 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "timestamp",
                                "oper"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-29 00:00:00' AND '2022-09-29 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_aircon_oper"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "oper_on_time = qr_aircon_oper[qr_aircon_oper['oper'] == true]['timestamp'].dt.strftime('%H:%M').values; oper_off_time = qr_aircon_oper[qr_aircon_oper['oper'] == false]['timestamp'].dt.strftime('%H:%M').values",
                    "return": [
                        "oper_on_time",
                        "oper_off_time"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "어제 우리반의 에어컨은 꺼져있습니다.",
                        "어제 우리반의 에어컨은 {oper_on_time[0]}부터 {oper_off_time[0]}까지 켜져있었습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 옆반 온도랑 우리반 온도 알려줘",
        "Response": {
            "Formalized Input": "지금 옆반과 우리반의 실내온도 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "옆반": "01_IB7",
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                }
            },
            "Strategy": {
                "Objective": "현재 옆반과 우리반의 실내온도를 조회함.",
                "Expected Outputs": [
                    "옆반의 실내온도는 25℃, 우리반의 실내온도는 27℃입니다."
                ],
                "Step": [
                    "옆반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_beside에 저장",
                    "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_ours에 저장",
                    "두 반의 실내온도 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB7'))"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_beside"
                    }
                },
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB5'))"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_ours"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "roomtemp_beside = qr_roomtemp_beside['roomtemp'].values[0]; roomtemp_ours = qr_roomtemp_ours['roomtemp'].values[0]",
                    "return": [
                        "roomtemp_beside",
                        "roomtemp_ours"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "옆반의 실내온도는 {roomtemp_beside}℃, 우리반의 실내온도는 {roomtemp_ours}℃입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "지난주 설정온도 변화 추이 알려줘",
        "Response": {
            "Formalized Input": "지난주 우리반의 설정온도 변화 추이 시각화 해줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지난주": "2022-09-23 00:00:00 ~ 2022-09-29 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "설정온도": "settemp"
                },
                "Operation": [
                    "추이"
                ]
            },
            "Strategy": {
                "Objective": "지난주 우리반의 설정온도 데이터를 쿼리 후, 변화 추이를 시각화하고, 대표적이고 중요한 통계적 정보를 제공함.",
                "Expected Outputs": [
                    "(그래프) X축: 날짜, Y축: 설정온도, 변화 추이 그래프",
                    "지난주 우리반의 설정온도는 25℃에서 27℃로 2℃ 증가했습니다.",
                    "지난주 우리반의 설정온도는 평균 26℃, 최저 25℃, 최고 27℃였습니다."
                ],
                "Step": [
                    "우리반의 지난주 설정온도 데이터 쿼리결과 qr_settemp_lastweek에 저장",
                    "qr_settemp_lastweek를 시각화하여 변화 추이 그래프 생성",
                    "qr_settemp_lastweek에서 설정온도의 평균, 최저, 최고값 계산",
                    "그래프 및 통계적 정보 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "settemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-23 00:00:00' AND '2022-09-29 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_settemp_lastweek"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "settemp_rawdata = qr_settemp_lastweek['settemp']; settemp_mean = qr_settemp_lastweek['settemp'].mean(); settemp_min = qr_settemp_lastweek['settemp'].min(); settemp_max = qr_settemp_lastweek['settemp'].max(); settemp_diff = settemp_max - settemp_min",
                    "return": [
                        "settemp_rawdata",
                        "settemp_mean",
                        "settemp_min",
                        "settemp_max",
                        "settemp_diff"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "(그래프) X축: 날짜, Y축: 설정온도, 변화 추이 그래프, 데이터: {settemp_rawdata}",
                        "지난주 우리반의 설정온도는 {settemp_mean}℃에서 {settemp_max}℃로 {settemp_diff}℃ 증가했습니다.",
                        "지난주 우리반의 설정온도는 평균 {settemp_mean}℃, 최저 {settemp_min}℃, 최고 {settemp_max}℃였습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반의 가장 최근 설정 온도 알려줘",
        "Response": {
            "Formalized Input": "우리반의 가장 최근 설정온도를 알려줘.",
            "Input Semantic Parsing": {
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "설정온도": "settemp"
                },
                "Operation": [
                    "가장 최근"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 가장 최근 설정온도를 조회.",
                "Expected Outputs": [
                    "우리반의 가장 최근 설정온도는 2시간 전 설정한 26℃입니다."
                ],
                "Step": [
                    "우리반의 모든 기간의 설정온도 데이터를 쿼리해 qr_settemp에 저장",
                    "qr_settemp에 마지막 설정온도와 시간 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "timestamp",
                                "settemp"
                            ],
                            "conditions": [],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_settemp"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "latest_settemp = qr_settemp['settemp'].values[-1]; latest_settemp_time = qr_settemp['timestamp'].values[-1]",
                    "return": [
                        "latest_settemp",
                        "latest_settemp_time"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "우리반의 가장 최근 설정온도는 {latest_settemp_time}에 설정한 {latest_settemp}℃입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반 왜이리 덥노",
        "Response": {
            "Formalized Input": "우리반의 실내온도가 높은 이유를 분석해줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "이유 분석"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 실내온도가 높은 이유를 분석하기 위해 설정온도, 실내온도, 에어컨 작동 상태 데이터를 수집하고 종합적으로 비교 분석함.",
                "Expected Outputs": [
                    "우리반의 실내온도가 높은 이유는 설정온도가 27℃로 높기 때문입니다.",
                    "지금 우리반이 더운 이유는 에어컨이 꺼져있기 때문입니다.",
                    "지금 우리반이 더운 이유는 에어컨이 켜진지 5분밖에 안되었기 때문입니다."
                ],
                "Step": [
                    "우리반의 최근 데이터를 쿼리해 qr_ours_recent에 저장",
                    "데이터를 분석하여 실내온도가 높은 원인 식별",
                    "원인을 텍스트로 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp",
                                "settemp",
                                "oper"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-30 00:00:00' AND '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_ours_recent"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "recent_settemps = qr_ours_recent['settemp']; recent_roomtemps = qr_ours_recent['roomtemp']; recent_opers = qr_ours_recent['oper']",
                    "return": [
                        "recent_settemps",
                        "recent_roomtemps",
                        "recent_opers"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "우리반의 실내온도가 높은 이유는 설정온도가 {recent_settemps.values[-1]}℃로 높기 때문입니다.",
                        "지금 우리반이 더운 이유는 에어컨이 {recent_opers.values[-1]}기 때문입니다.",
                        "지금 우리반이 더운 이유는 에어컨이 켜진지 {latest_oper_on_time}밖에 안되었기 때문입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "What time is it now?",
        "Response": {
            "Formalized Input": "지금 몇 시인지 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Modality": {
                    "시간": "current_time"
                },
                "Operation": [
                    "질문 응답"
                ]
            },
            "Strategy": {
                "Objective": "현재 시간을 메타데이터에서 읽어서 반환",
                "Expected Outputs": [
                    "현재 시간은 14:35입니다.",
                    "지금은 오후 2시 35분입니다."
                ],
                "Step": [
                    "시간 데이터를 대답"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "현재 시간은 2022-09-30 12:00:00입니다.",
                        "지금은 오후 12시 입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "What is the current temperature in our class?",
        "Response": {
            "Formalized Input": "우리반의 현재 실내온도를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "질문 응답"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 현재 실내온도를 조회함.",
                "Expected Outputs": [
                    "우리반의 현재 실내온도는 27℃입니다."
                ],
                "Step": [
                    "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp에 저장",
                    "qr_roomtemp에서 실내온도 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "roomtemp = qr_roomtemp['roomtemp'].values[0]",
                    "return": [
                        "roomtemp"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "우리반의 현재 실내온도는 {roomtemp}℃입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "내일 실내온도 어떨거 같아?",
        "Response": {
            "Formalized Input": "내일 우리반의 실내온도 예측해줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "내일": "2022-10-01 00:00:00"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "예측"
                ]
            },
            "Strategy": {
                "Objective": "우리반의 내일 실내온도를 예측하기 위해 기존 데이터를 분석하여 예측함.",
                "Expected Outputs": [
                    "예측하기는 아직 지원되지 않는 기능입니다."
                ],
                "Step": [
                    "예측하지 않음"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "예측하기는 아직 지원되지 않는 기능입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "10년 전 오늘 우리반 온도는?",
        "Response": {
            "Formalized Input": "10년 전 오늘 우리반의 실내온도를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "10년 전 오늘": "2012-09-30 00:00:00 ~ 2012-09-30 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                }
            },
            "Strategy": {
                "Objective": "10년 전 오늘 우리반의 실내온도를 조회함.",
                "Expected Outputs": [
                    "10년 전 오늘 우리반의 실내온도는 24℃였습니다."
                ],
                "Step": [
                    "우리반의 10년 전 오늘 실내온도 데이터를 쿼리해 qr_roomtemp에 저장",
                    "qr_roomtemp에서 실내온도 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2012-09-30 00:00:00' AND '2012-09-30 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "roomtemp = qr_roomtemp['roomtemp'].values[0]",
                    "return": [
                        "roomtemp"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "10년 전 오늘 우리반의 실내온도는 {roomtemp}℃였습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "롯데캐슬의 현재 온도 알려줘",
        "Response": {
            "Formalized Input": "롯데캐슬의 현재 실내온도를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "롯데캐슬": "Unknown"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                }
            },
            "Strategy": {
                "Objective": "Unknown spatial entity의 정의를 사용자에게 물어보고, 해당 정보를 변수에 저장함",
                "Expected Outputs": [
                    "롯데캐슬이 어떤 곳인지 알려주세요."
                ],
                "Step": [
                    "Unknown spatial entity의 정의를 사용자에게 물어봄.",
                    "사용자의 답변을 변수에 저장"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "롯데캐슬이 어떤 곳인지 알려주세요."
                    ]
                }
            ]
        }
    },
    {
        "Input": "다음 대통령 선거는 언제인가요?",
        "Response": {
            "Formalized Input": "다음 대통령 선거의 일자를 알려줘.",
            "Input Semantic Parsing": {},
            "Strategy": {
                "Objective": "HVAC 시스템과 관련 없는 질문에 대한 답변을 제공할 수 없음.",
                "Expected Outputs": [
                    "HVAC 시스템과 관련 없는 질문입니다."
                ],
                "Step": [
                    "답변 불가 메시지 출력"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "HVAC 시스템과 관련 없는 질문입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "1층 평균 실내온도 알려줘",
        "Response": {
            "Formalized Input": "1층의 평균 실내온도를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Spatial": {
                    "1층": "Unknown"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "평균"
                ]
            },
            "Strategy": {
                "Objective": "Unknown spatial entity의 정의를 사용자에게 물어보고, 해당 정보를 변수에 저장함",
                "Expected Outputs": [
                    "1층이 어떤 곳인지 알려주세요."
                ],
                "Step": [
                    "Unknown spatial entity의 정의를 사용자에게 물어봄.",
                    "사용자의 답변을 변수에 저장"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "1층이 어떤 곳인지 알려주세요."
                    ]
                }
            ]
        }
    },
    {
        "Input": "지금 에어컨 꺼진 방들 알려줘",
        "Response": {
            "Formalized Input": "지금 에어컨이 꺼져있는 방들을 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "지금": "2022-09-30 12:00:00"
                },
                "Modality": {
                    "에어컨 전원": "oper"
                }
            },
            "Strategy": {
                "Objective": "현재 에어컨이 꺼져있는 방들을 조회함.",
                "Expected Outputs": [
                    "현재 에어컨이 꺼져있는 방은 01_IB7입니다."
                ],
                "Step": [
                    "현재 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장",
                    "qr_aircon_oper에서 에어컨 전원 상태가 꺼져있는 방 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "oper"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ],
                            "subquery": "oper = false"
                        }
                    },
                    "result": {
                        "name": "qr_aircon_oper"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "rooms_with_aircon_off = qr_aircon_oper['idu_id'].values",
                    "return": [
                        "rooms_with_aircon_off"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "현재 에어컨이 꺼져있는 방은 {rooms_with_aircon_off}입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반 이번달 제일 추웠던 날은 언제냐?",
        "Response": {
            "Formalized Input": "이번달 우리반의 하루 평균 실내온도가 가장 낮았던 날 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "이번달": "2022-09-01 00:00:00 ~ 2022-09-30 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "실내온도": "roomtemp"
                },
                "Operation": [
                    "하루 평균의 최저"
                ]
            },
            "Strategy": {
                "Objective": "이번달 우리반의 실내온도 데이터 중 하루 평균 온도가 가장 낮은 날짜를 찾음.",
                "Expected Outputs": [
                    "이번달 우리반은 20일에 평균 24.3℃로 가장 추웠습니다."
                ],
                "Step": [
                    "우리반의 이번달 실내온도 데이터를 쿼리해 qr_roomtemp_month에 저장",
                    "qr_roomtemp_month에서 하루 평균 온도계산",
                    "가장 낮은 평균 온도 값 및 해당 날짜 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "timestamp",
                                "roomtemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-01 00:00:00' AND '2022-09-30 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_roomtemp_month"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "qr_roomtemp_month['date'] = qr_roomtemp_month['timestamp'].dt.date; avg_roomtemp_month = qr_roomtemp_month.groupby('date')['roomtemp'].mean(); min_temp_date = avg_roomtemp_month.idxmin(); min_temp = avg_roomtemp_month.min()",
                    "return": [
                        "min_temp",
                        "min_temp_date"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "이번달 우리반은 {min_temp_date}일에 {min_temp}℃로 가장 추웠습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "우리반과 옆반 이번주 설정온도 차이 보여줘",
        "Response": {
            "Formalized Input": "이번주 우리반과 옆반의 설정온도 차이 시각화 해줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "이번주": "2022-09-26 00:00:00 ~ 2022-10-02 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5",
                    "옆반": "01_IB7"
                },
                "Modality": {
                    "설정온도": "settemp"
                },
                "Operation": [
                    "차이의 추이"
                ]
            },
            "Strategy": {
                "Objective": "이번주 우리반과 옆반의 설정온도의 차이의 추이를 시각화",
                "Expected Outputs": [
                    "(그래프) X축: 날짜, Y축: 설정온도 차이, 차이 추이 그래프",
                    "이번주 우리반의 평균 설정온도는 25℃이고, 옆반은 26℃로 1℃ 차이가 있습니다."
                ],
                "Step": [
                    "우리반과 옆반의 이번주 설정온도 데이터를 각각 쿼리결과 qr_settemp_ours와 qr_settemp_beside에 저장",
                    "qr_settemp_ours와 qr_settemp_beside를 시각화하여 설정온도 차이 추이 그래프 생성",
                    "qr_settemp_ours와 qr_settemp_beside에서 설정온도의 평균값 계산",
                    "그래프, 설정온도의 평균값들 및 차이 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "settemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_settemp_ours"
                    }
                },
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "settemp"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"
                        }
                    },
                    "result": {
                        "name": "qr_settemp_beside"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "settemp_ours = qr_settemp_ours['settemp']; settemp_beside = qr_settemp_beside['settemp']; settemp_diff = settemp_ours - settemp_beside",
                    "return": [
                        "settemp_ours",
                        "settemp_beside",
                        "settemp_diff"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "(그래프) X축: 날짜, Y축: 설정온도 차이, 차이 추이 그래프, 데이터: {settemp_diff}",
                        "이번주 우리반의 평균 설정온도는 {settemp_ours.mean()}℃이고, 옆반은 {settemp_beside.mean()}℃로 {settemp_diff.mean()}℃ 차이가 있습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "어제 우리반 에어컨 작동 시간 알려줘",
        "Response": {
            "Formalized Input": "어제 우리반의 에어컨 작동 시간을 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "어제": "2022-09-29 00:00:00 ~ 2022-09-29 23:59:59"
                },
                "Spatial": {
                    "우리반": "01_IB5"
                },
                "Modality": {
                    "에어컨 전원": "oper"
                }
            },
            "Strategy": {
                "Objective": "어제 우리반의 에어컨 작동 시간을 조회함.",
                "Expected Outputs": [
                    "어제 우리반은 오전 10시 31분부터 오후 3시 45분까지 총 5시간 14분 동안 에어컨을 작동했습니다.",
                    "어제 우리반은 오전 8시 30부터 총 15시간 30분 동안 에어컨을 작동했습니다."
                ],
                "Step": [
                    "어제 우리반의 에어컨 작동 상태 데이터를 쿼리해 qr_aircon_oper에 저장",
                    "qr_aircon_oper에서 에어컨 작동 시간 계산",
                    "에어컨 켜진/꺼진 시간 및 총 작동 시간 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "timestamp",
                                "oper"
                            ],
                            "conditions": [
                                "timestamp BETWEEN '2022-09-29 00:00:00' AND '2022-09-29 23:59:59'"
                            ],
                            "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"
                        }
                    },
                    "result": {
                        "name": "qr_aircon_oper"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "aircon_switch_times = qr_aircon_oper['oper'].diff().ne(0); aircon_on_time = qr_aircon_oper['timestamp'][aircon_switch_times & qr_aircon_oper['oper']].reset_index(drop=True); aircon_off_time = qr_aircon_oper['timestamp'][aircon_switch_times & ~qr_aircon_oper['oper']].reset_index(drop=True); aircon_on_duration = (aircon_off_time - aircon_on_time).sum(); total_on_duration = qr_aircon_oper['oper'].sum()",
                    "return": [
                        "aircon_on_time",
                        "aircon_off_time",
                        "aircon_on_duration",
                        "total_on_duration"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "어제 우리반은 {aircon_on_time[0].strftime('%p %I시 %M분')}부터 {aircon_off_time[0].strftime('%p %I시 %M분')}까지 총 {aircon_on_duration}동안 에어컨을 작동했습니다.",
                        "어제 우리반은 {aircon_on_time[0].strftime('%p %I시 %M분')}부터 총 {total_on_duration}동안 에어컨을 작동했습니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "농담 좀 해줘",
        "Response": {
            "Formalized Input": "농담을 해주세요.",
            "Input Semantic Parsing": {},
            "Strategy": {
                "Objective": "HVAC 시스템과 관련 없는 질문에 대한 답변을 제공할 수 없음.",
                "Expected Outputs": [
                    "HVAC 시스템과 관련 없는 질문입니다."
                ],
                "Step": [
                    "답변 불가 메시지 출력"
                ]
            },
            "Instruction Set": [
                {
                    "type": "r",
                    "templates": [
                        "HVAC 시스템과 관련 없는 질문입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어켠 제일 세게 킨 방 3개 알려줘",
        "Response": {
            "Formalized Input": "현재 에어컨을 제일 세게 킨 방 3개를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Modality": {
                    "에어컨 전원": "oper",
                    "설정온도": "settemp"
                },
                "Operation": [
                    "설정온도가 제일 낮은"
                ]
            },
            "Strategy": {
                "Objective": "현재 에어컨을 켰으며 설정온도가 가장 낮은 방 3개를 조회함.",
                "Expected Outputs": [
                    "에어컨을 제일 세게 킨 방은 순서대로 01_IB5(27℃), 01_IB7(26℃), 01_IB6(25℃)입니다.",
                    "에어컨을 제일 세게 킨 방은 순서대로 우리반(27℃), 옆반(26℃), 뒷반(25℃)입니다."
                ],
                "Step": [
                    "현재 모든 방의 에어컨 전원 및 설정온도 데이터를 쿼리해 qr 에 저장",
                    "모든 방 중 에어컨을 킨 방만 필터링",
                    "설정온도가 가장 낮은 방 3개의 이름 및 설정온도 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "idu_id",
                                "oper",
                                "settemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ]
                        }
                    },
                    "result": {
                        "name": "qr"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "top3_idu_and_settemp_where_oper_on = qr[qr['oper']].sort_values('settemp', ascending=False).head(3); top3_idu = top3_idu_and_settemp_where_oper_on['idu_id'].values; top3_settemp = top3_idu_and_settemp_where_oper_on['settemp'].values",
                    "result": [
                        "top3_idu",
                        "top3_settemp"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "에어컨을 제일 세게 킨 방은 순서대로 {top3_idu[0]}({top3_settemp[0]}℃), {top3_idu[1]}({top3_settemp[1]}℃), {top3_idu[2]}({top3_settemp[2]}℃)입니다.",
                        "에어컨을 제일 세게 킨 방은 순서대로 우리반({top3_settemp[0]}℃), 옆반({top3_settemp[1]}℃), 뒷반({top3_settemp[2]}℃)입니다."
                    ]
                }
            ]
        }
    },
    {
        "Input": "에어켠 제일 세게 킨 방 3개 알려줘",
        "Response": {
            "Formalized Input": "현재 에어컨을 제일 세게 킨 방 3개를 알려줘.",
            "Input Semantic Parsing": {
                "Temporal": {
                    "현재": "2022-09-30 12:00:00"
                },
                "Modality": {
                    "에어컨 전원": "oper",
                    "설정온도": "settemp"
                },
                "Operation": [
                    "설정온도가 제일 낮은"
                ]
            },
            "Strategy": {
                "Objective": "현재 에어컨을 켰으며 설정온도가 가장 낮은 방 3개를 조회함.",
                "Expected Outputs": [
                    "에어컨을 제일 세게 킨 방은 순서대로 01_IB5(27℃), 01_IB7(26℃), 01_IB6(25℃)입니다.",
                    "에어컨을 제일 세게 킨 방은 순서대로 우리반(27℃), 옆반(26℃), 뒷반(25℃)입니다."
                ],
                "Step": [
                    "현재 모든 방의 에어컨 전원 및 설정온도 데이터를 쿼리해 qr 에 저장",
                    "모든 방 중 에어컨을 킨 방만 필터링",
                    "설정온도가 가장 낮은 방 3개의 이름 및 설정온도 반환"
                ]
            },
            "Instruction Set": [
                {
                    "type": "q",
                    "run": {
                        "args": {
                            "table_name": "data_t",
                            "columns": [
                                "idu_id",
                                "oper",
                                "settemp"
                            ],
                            "conditions": [
                                "timestamp = '2022-09-30 12:00:00'"
                            ]
                        }
                    },
                    "result": {
                        "name": "qr"
                    }
                },
                {
                    "type": "o",
                    "python_script_to_process": "top3_idu_and_settemp_where_oper_on = qr[qr['oper']].sort_values('settemp', ascending=False).head(3); top3_idu = top3_idu_and_settemp_where_oper_on['idu_id'].values; top3_settemp = top3_idu_and_settemp_where_oper_on['settemp'].values",
                    "result": [
                        "top3_idu",
                        "top3_settemp"
                    ]
                },
                {
                    "type": "r",
                    "templates": [
                        "에어컨을 제일 세게 킨 방은 순서대로 {top3_idu[0]}({top3_settemp[0]}℃), {top3_idu[1]}({top3_settemp[1]}℃), {top3_idu[2]}({top3_settemp[2]}℃)입니다.",
                        "에어컨을 제일 세게 킨 방은 순서대로 우리반({top3_settemp[0]}℃), 옆반({top3_settemp[1]}℃), 뒷반({top3_settemp[2]}℃)입니다."
                    ]
                }
            ]
        }
    }
]