[
{"Input": "Why is our classroom so cold", "Reference": {"Formalized Input": "지금 우리반 왜 추울까?", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"우리반": "01_IB5"}}, "Strategy": {"Objective": "우리반이 추운 이유를 분석하기 위해 설정온도, 실내온도, 에어컨 작동 상태 데이터 쿼리 후 종합적으로 비교 분석함.", "Expected Outputs": ["The reason our classroom is cold with 15℃ is that the setting temperature is 10℃. Please turn off the air conditioner or raise the setting temperature.", "The reason our classroom is cold is that the air conditioner is on.", "The reason our classroom is cold is that the air conditioner has been on for only 30 minutes."], "Step": ["우리반의 최근(1시간) 실내온도, 설정온도, 에어컨 전원 데이터를 쿼리해 qr_ours_recent에 저장", "최근 데이터중 가장 최신 데이터를 선택해 현재 실내온도, 설정온도, 에어컨 전원 상태를 추출", "에어컨이 켜져있거나 설정온도가 너무 낮은 경우, 꺼져있는 시간을 계산하여 반환", "데이터를 바탕으로 추운 이유를 분석하여 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp", "settemp", "oper"], "conditions": ["timestamp BETWEEN '2022-09-30 11:00:00' AND '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_ours_recent"}}, {"type": "o", "python_script_to_process": "sd = qr_ours_recent.sort_values(by='timestamp'); current_roomtemp = sd['roomtemp'].iloc[-1]; current_settemp = sd['settemp'].iloc[-1]; current_oper = sd['oper'].iloc[-1]; latest_oper_off_time = (str(int((sd['timestamp'].iloc[-1] - sd.loc[sd['oper'] == False, 'timestamp'].iloc[-1]) / np.timedelta64(1, 'm'))) + \"분\") if current_oper else \"0분\"", "return": ["current_roomtemp", "current_settemp", "current_oper", "latest_oper_off_time"]}, {"type": "r", "templates": ["The reason our classroom is cold with {current_roomtemp}℃ is that the setting temperature is {current_settemp}℃. Please turn off the air conditioner or raise the setting temperature.", "The reason our classroom is cold is that the air conditioner is {current_oper} now.", "The reason our classroom is cold is that the air conditioner has been on for only {latest_oper_off_time}."]}]}, "Candidate": "{\"Formalized Input\": \"우리반 왜이리 추노?\", \"Input Semantic Parsing\": {\"Temporal\": {\"지금\": \"2022-09-30 12:00:00\"}, \"Spatial\": {\"우리반\": \"01_IB5\"}}, \"Strategy\": {\"Objective\": \"우리반이 추운 이유를 분석하기 위해 설정 데이터를 쿼리해보고, 문제 해결을 위해 나의 실제 행동.\", \"Expected Outputs\": [\"지금 우리반은 24.3℃인데요, 설정 온도는 25℃로 되어있네요. 설정온도를 높여서 해시그램을 만들면 더 추워질 거에요.\", \"지금 우리반은 24.3℃인데요, 설정온도는 25℃로 되어있네요. 설정온도를 낮추면 더 덥질 거에요.\"], \"Step\": [\"우리반의 현재 온도 및 설정온도 데이터를 쿼리해 qr_ours_t에 저장\", \"우리반의 현재 온도 및 설정온도 데이터를 분석하여 문제 해결을 답변\"]}, \"Instruction Set\": [{\"type\": \"q\", \"run\": {\"args\": {\"table_name\": \"data_t\", \"columns\": [\"roomtemp\", \"settemp\"], \"conditions\": [\"timestamp = '2022-09-30 12:00:00'\"], \"subquery\": \"idu_t.id = (SELECT id FROM idu_t WHERE name = '01_IB5')\"}}, \"result\": {\"name\": \"qr_ours_t\"}}, {\"type\": \"o\", \"python_script_to_process\": \"sd_roomtemp = qr_ours_t['roomtemp'].values[0]; sd_settemp = qr_ours_t['settemp'].values[0]; sd_oper = qr_ours_t['oper'].values[0]; current_datetime = '2022-09-30 12:00:00'};What is the temperature difference between our classroom and the adjacent classroom?"}
,
{"Input": "오늘 아침과 저녁의 온도차이는 얼마나 돼?", "Reference": {"Formalized Input": "우리반 오늘 아침과 저녁의 실내온도 차이 알려줘.", "Input Semantic Parsing": {"Temporal": {"오늘 아침": "2022-09-30 06:00:00 ~ 2022-09-30 09:00:00", "오늘 저녁": "2022-09-30 18:00:00 ~ 2022-09-30 21:00:00"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "우리반 오늘 아침과 저녁의 실내온도 데이터 쿼리 후 평균값을 계산하여 차이를 반환함.", "Expected Outputs": ["오늘 아침(06:00 ~ 09:00, 24.5℃)과 저녁(18:00 ~ 21:00, 27.3℃)의 온도 차이는 2.8℃ 입니다."], "Step": ["2022-09-30 06:00 ~ 09:00 시간대의 roomtemp 데이터 조회해 qr_morning_temp에 저장", "2022-09-30 18:00 ~ 21:00 시간대의 roomtemp 데이터 조회해 qr_evening_temp에 저장", "qr_morning_temp과 qr_evening_temp의 평균값 및 차이 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 00 06:00:00' AND '2022-09-30 09:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_morning_temp"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 18:00:00' AND '2022-09-30 21:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_evening_temp"}}, {"type": "o", "python_script_to_process": "morning_temp_mean = qr_morning_temp['roomtemp'].mean(); evening_temp_mean = qr_evening_temp['roomtemp'].mean(); temp_diff = abs(morning_temp_mean - evening_temp_mean)", "return": ["morning_temp_mean", "evening_temp_mean", "temp_diff"]}, {"type": "r", "templates": ["오늘 아침(06:00 ~ 09:00, {morning_temp_mean}℃)과 저녁(18:00 ~ 21:00, {evening_temp_mean}℃)의 온도 차이는 {temp_diff}℃ 입니다."]}]}, "Candidate": {"Formalized Input": "오늘 아침과 저녁의 실내온도 차이를 알려줘.", "Input Semantic Parsing": {"Temporal": {"오늘": "2022-09-30 00:00:00 ~ 2022-09-30 23:59:59"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "오늘 아침과 저녁의 실내온도를 쿼리 후, 차이를 계산함.", "Expected Outputs": ["오늘 아침은 25℃이고, 저녁은 27℃로 2℃ 차이가 있습니다."], "Step": ["오늘 아침과 저녁의 실내온도 데이터를 각각 쿼리결과 qr_roomtemp_morning와 qr_roomtemp_evening에 저장", "qr_roomtemp_morning와 qr_roomtemp_evening를 비교하여 온도 차이를 계산", "계산된 온도 차이값과 해당 시간을 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 00:00:00' AND '2022-09-30 11:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_morning"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 12:00:00' AND '2022-09-30 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_evening"}}, {"type": "o", "python_script_to_process": "roomtemp_morning = qr_roomtemp_morning['roomtemp'].values[0]; roomtemp_evening = qr_roomtemp_evening['roomtemp'].values[0]; temp_diff = roomtemp_morning - roomtemp_evening", "return": ["roomtemp_morning", "roomtemp_evening", "temp_diff"]}, {"type": "r", "templates": ["오늘 아침은 {roomtemp_morning}℃이고, 저녁은 {roomtemp_evening}℃로 {temp_diff}℃ 차이가 있습니다."]}]}}
,
{"Input": "지금 옆반 온도랑 우리반 온도 알려줘", "Reference": {"Formalized Input": "지금 옆반과 우리반의 실내온도 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"옆반": "01_IB7", "우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "현재 옆반과 우리반의 실내온도를 쿼리해 반환함.", "Expected Outputs": ["옆반의 실내온도는 25℃, 우리반의 실내온도는 27℃입니다."], "Step": ["옆반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_beside에 저장", "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_ours에 저장", "두 반의 실내온도 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB7'))"}}, "result": {"name": "qr_roomtemp_beside"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB5'))"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "o", "python_script_to_process": "roomtemp_beside = qr_roomtemp_beside['roomtemp'].values[0]; roomtemp_ours = qr_roomtemp_ours['roomtemp'].values[0]", "return": ["roomtemp_beside", "roomtemp_ours"]}, {"type": "r", "templates": ["옆반의 실내온도는 {roomtemp_beside}℃, 우리반의 실내온도는 {roomtemp_ours}℃입니다."]}]}, "Candidate": {"Formalized Input": "지금 옆반의 실내온도와 우리반의 실내온도를 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"옆반": "01_IB7", "우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "현재 옆반의 실내온도와 우리반의 실내온도를 조회함.", "Expected Outputs": ["옆반의 현재 실내온도는 25℃이고, 우리반의 현재 실내온도는 26℃입니다."], "Step": ["옆반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_beside에 저장", "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_ours에 저장"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_t.id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}}, "result": {"name": "qr_roomtemp_beside"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_t.id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "o", "python_script_to_process": "roomtemp_beside = qr_roomtemp_beside['roomtemp'].values[0]; roomtemp_ours = qr_roomtemp_ours['roomtemp'].values[0]", "return": ["roomtemp_beside", "roomtemp_ours"]}, {"type": "r", "templates": ["옆반의 현재 실내온도는 {roomtemp_beside}℃이고, 우리반의 현재 실내온도는 {roomtemp_ours}℃입니다."]}]}}
,
{"Input": "이번주 우리반과 옆반 온도 변화 추이 비교해줘", "Reference": {"Formalized Input": "이번주 우리반과 옆반의 실내온도 변화 추이 비교해줘.", "Input Semantic Parsing": {"Temporal": {"이번주": "2022-09-26 00:00:00 ~ 2022-10-02 23:59:59"}, "Spatial": {"우리반": "01_IB5", "옆반": "01_IB7"}, "Modality": {"실내온도": "roomtemp"}, "Operation": ["변화 추이", "비교"]}, "Strategy": {"Objective": "이번주 우리반과 옆반의 실내온도 데이터를 쿼리 후, 각 반의 변화 추이를 시각화하고 주요 통계 정보를 비교함.", "Expected Outputs": ["(그래프) X축: 날짜, Y축: 실내온도, 두 반의 변화 추이 그래프", "이번주 우리반의 평균 실내온도는 24℃, 최저 22℃, 최고 26℃입니다.", "이번주 옆반의 평균 실내온도는 25℃, 최저 23℃, 최고 28℃입니다."], "Step": ["우리반과 옆반의 이번주 실내온도 데이터를 각각 쿼리해 qr_roomtemp_ours와 qr_roomtemp_beside에 저장", "두 반의 데이터를 시각화하여 변화 추이 비교 그래프 생성", "각 반의 평균, 최저, 최고값 계산", "그래프와 통계적 비교 정보 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}}, "result": {"name": "qr_roomtemp_beside"}}, {"type": "o", "python_script_to_process": "avg_ours = qr_roomtemp_ours['roomtemp'].mean(); min_ours = qr_roomtemp_ours['roomtemp'].min(); max_ours = qr_roomtemp_ours['roomtemp'].max(); avg_beside = qr_roomtemp_beside['roomtemp'].mean(); min_beside = qr_roomtemp_beside['roomtemp'].min(); max_beside = qr_roomtemp_beside['roomtemp'].max(); merged_data = pd.merge(qr_roomtemp_ours, qr_roomtemp_beside, on='timestamp', suffixes=('_ours', '_beside')); merged_data.plot(x='timestamp', y=['roomtemp_ours', 'roomtemp_beside'])", "return": ["avg_ours", "min_ours", "max_ours", "avg_beside", "min_beside", "max_beside"]}, {"type": "r", "templates": ["(그래프) X축: 날짜, Y축: 실내온도, 우리반과 옆반의 변화 추이 비교 그래프", "이번주 우리반의 평균 실내온도는 {avg_ours}℃, 최저 {min_ours}℃, 최고 {max_ours}℃입니다.", "이번주 옆반의 평균 실내온도는 {avg_beside}℃, 최저 {min_beside}℃, 최고 {max_beside}℃입니다."]}]}, "Candidate": {"Formalized Input": "이번주 우리반과 옆반의 실내온도 변화 추이 시각화 해줘.", "Input Semantic Parsing": {"Temporal": {"이번주": "2022-09-26 00:00:00 ~ 2022-10-02 23:59:59"}, "Spatial": {"우리반": "01_IB5", "옆반": "01_IB7"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "이번주 우리반과 옆반의 실내온도를 쿼리 후, 변화 추이를 시각화하고, 각 반의 변화 추이를 분석함.", "Expected Outputs": ["(그래프) X축: 날짜, Y축: 온도, 변화 추이 그래프", "이번주 우리반의 평균 온도는 25℃이고, 최대 온도는 30℃, 최소 온도는 20℃입니다.", "이번주 옆반의 평균 온도는 26℃이고, 최대 온도는 30℃, 최소 온도는 22℃입니다."], "Step": ["우리반과 옆반의 이번주 실내온도 데이터를 각각 쿼리결과 qr_roomtemp_ours와 qr_roomtemp_beside에 저장", "qr_roomtemp_ours와 qr_roomtemp_beside를 시각화하여 변화 추이 그래프 생성", "qr_roomtemp_ours와 qr_roomtemp_beside에서 실내온도의 평균, 최대, 최소값 계산", "그래프 및 통계 데이터 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-26 00:00:00' AND '2022-10-02 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}}, "result": {"name": "qr_roomtemp_beside"}}, {"type": "o", "python_script_to_process": "avg_roomtemp_ours = qr_roomtemp_ours['roomtemp'].mean(); max_roomtemp_ours = qr_roomtemp_ours['roomtemp'].max(); min_roomtemp_ours = qr_roomtemp_ours['roomtemp'].min(); avg_roomtemp_beside = qr_roomtemp_beside['roomtemp'].mean(); max_roomtemp_beside = qr_roomtemp_beside['roomtemp'].max(); min_roomtemp_beside = qr_roomtemp_beside['roomtemp'].min(); temp_diff = avg_roomtemp_ours - avg_roomtemp_beside", "return": ["avg_roomtemp_ours", "max_roomtemp_ours", "min_roomtemp_ours", "avg_roomtemp_beside", "max_roomtemp_beside", "min_roomtemp_beside", "temp_diff"]}, {"type": "r", "templates": ["(그래프) X축: 날짜, Y축: 온도, 변화 추이 그래프, 데이터: {qr_roomtemp_ours}", "이번주 우리반의 평균 온도는 {avg_roomtemp_ours}℃이고, 최대 온도는 {max_roomtemp_ours}℃, 최소 온도는 {min_roomtemp_ours}℃입니다.", "이번주 우리반과 옆반의 평균 온도 차이는 {temp_diff}℃입니다."]}]}}
,
{"Input": "현재 설정온도랑 실내온도 차이 알려줘.", "Reference": {"Formalized Input": "현재 우리반 설정온도와 실내온도의 차이를 알려줘.", "Input Semantic Parsing": {"Temporal": {"현재": "2022-09-30 12:00:00"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp", "실내온도": "roomtemp"}}, "Strategy": {"Objective": "현재 우리반 설정온도와 실내온도 쿼리후 차이를 계산하여 반환.", "Expected Outputs": ["현재 설정온도와 현재 실내온도의 차이는 1.2℃입니다."], "Step": ["현재 설정온도와 현재 실내온도의 데이터를 조회", "두 온도의 차이 계산"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_current_temp"}}, {"type": "o", "python_script_to_process": "current_settemp = qr_current_temp['settemp'].iloc[0], current_roomtemp = qr_current_temp['roomtemp'].iloc[0], temp_diff = abs(current_settemp - current_roomtemp)", "return": ["temp_diff"]}, {"type": "r", "templates": ["현재 설정온도와 현재 실내온도의 차이는 {temp_diff}℃입니다."]}]}, "Candidate": {"Formalized Input": "현재 설정온도와 실내온도 차이를 알려줘.", "Input Semantic Parsing": {"Temporal": {"현재": "2022-09-30 12:00:00"}, "Spatial": {"현재": "01_IB5"}, "Modality": {"설정온도": "settemp", "실내온도": "roomtemp"}}, "Strategy": {"Objective": "현재 설정온도와 실내온도를 쿼리하여 그 값과 차이를 계산하여 반환함.", "Expected Outputs": ["현재 설정온도는 25℃이고, 실내온도는 26℃로 1℃ 차이가 있습니다."], "Step": ["현재 설정온도와 실내온도 쿼리해 qr에 저장", "각 온도의 평균값 계산", "각 온도의 평균값과 차이 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"]}}, "result": {"name": "qr_t"}}, {"type": "o", "python_script_to_process": "avg_settemp = qr_t['settemp'].mean(); avg_roomtemp = qr_t['roomtemp'].mean(); temp_diff = avg_roomtemp - avg_settemp", "return": ["avg_settemp", "avg_roomtemp", "temp_diff"]}, {"type": "r", "templates": ["현재 설정온도는 {avg_settemp}℃이고, 실내온도는 {avg_roomtemp}℃로 {temp_diff}℃ 차이가 있습니다."]}]}}
,
{"Input": "지난주 설정온도가 실내온도보다 더 높았던 날은?", "Reference": {"Formalized Input": "지난주 우리반의 설정온도가 실내온도보다 더 높았던 날을 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난주": "2022-09-23 00:00:00 ~ 2022-09-29 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp", "실내온도": "roomtemp"}}, "Strategy": {"Objective": "지난주 동안 우리반 설정온도와 실내온도 데이터를 쿼리한 후 설정온도가 실내온도보다 높은 날짜를 반환함.", "Expected Outputs": ["지난주 우리반의 설정온도가 실내온도보다 더 높았던 날은 2022-09-25입니다."], "Step": ["지난주 동안의 우리반 설정온도와 실내온도 데이터를 qr_temp에 저장", "설정온도가 실내온도보다 높은 날짜를 찾음"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp", "settemp"], "conditions": ["timestamp BETWEEN '2022-09-23 00:00:00' AND '2022-09-29 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_temp"}}, {"type": "o", "python_script_to_process": "days_with_settemp_higher = qr_temp[qr_temp['settemp'] > qr_temp['roomtemp']]['timestamp'].dt.date.tolist()", "return": ["days_with_settemp_higher"]}, {"type": "r", "templates": ["지난주 우리반의 설정온도가 실내온도보다 더 높았던 날은 {days_with_settemp_higher}입니다."]}]}, "Candidate": {"Formalized Input": "지난주 우리반의 설정온도 중 실내온도보다 높은 날짜를 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난주": "2022-09-23 00:00:00 ~ 2022-09-29 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp"}, "Operation": ["최저"]}, "Strategy": {"Objective": "지난주 우리반의 설정온도 데이터 쿼리 후, 실내온도보다 높은 값 및 해당 날짜를 반환함.", "Expected Outputs": ["지난주 우리반의 설정온도 중 실내온도보다 높은 값은 27℃였으며, 해당 날짜는 2022-09-29입니다."], "Step": ["지난주 우리반의 설정온도 데이터를 쿼리해 qr_settemp_lastweek에 저장", "qr_settemp_lastweek에서 실내온도보다 높은 값 및 해당 날짜 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "settemp"], "conditions": ["timestamp BETWEEN '2022-09-23 00:00:00' AND '2022-09-29 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_settemp_lastweek"}}, {"type": "o", "python_script_to_process": "max_settemp = qr_settemp_lastweek['settemp'].max(); max_settemp_date = qr_settemp_lastweek.loc[qr_settemp_lastweek['settemp'].idxmax(), 'timestamp']", "return": ["max_settemp", "max_settemp_date"]}, {"type": "r", "templates": ["지난주 우리반의 설정온도 중 실내온도보다 높은 값은 {max_settemp}℃였으며, 해당 날짜는 {max_settemp_date}입니다."]}]}}
,
{"Input": "지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은?", "Reference": {"Formalized Input": "지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날을 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난주": "2022-09-23 00:00:00 ~ 2022-09-29 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp", "실내온도": "roomtemp"}}, "Strategy": {"Objective": "지난주 동안 설정온도와 실내온도 데이터를 쿼리한 후 설정온도와 실내온도의 차이를 계산하여 가장 많이 차이나는 날짜를 반환함.", "Expected Outputs": ["지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은 2022-09-27입니다.", "지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은 2022-09-25입니다."], "Step": ["지난주 동안의 우리반 데이터에서 설정온도와 실내온도를 쿼리하여 qr_data에 저장", "각 날짜별 설정온도와 실내온도의 차이를 계산하여 최대 차이가 났던 날짜 찾기", "그 날짜 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "settemp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-23 00:00:00' AND '2022-09-29 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_data"}}, {"type": "o", "python_script_to_process": "qr_data['temp_diff'] = abs(qr_data['settemp'] - qr_data['roomtemp']); max_diff_day = qr_data.groupby(qr_data['timestamp'].dt.date)['temp_diff'].max().idxmax()", "return": ["max_diff_day"]}, {"type": "r", "templates": ["지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은 {max_diff_day}입니다."]}]}, "Candidate": {"Formalized Input": "지난주 우리반 하루 평균 설정온도와 하루 평균 실내온도 평균 차이가 가장 많이 나는 날짜를 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난주": "2022-09-23 00:00:00 ~ 2022-09-29 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp", "실내온도": "roomtemp"}}, "Strategy": {"Objective": "지난주 우리반 설정온도와 실내온도 데이터 쿼리 후, 각 날짜별로 평균의 차이를 계산하여 가장 많이 차이나는 날짜와 그 날의 평균 실내온도, 설정온도, 차이값을 반환함.", "Expected Outputs": ["지난주 우리반은 25일에 20℃로 설정했지만, 26일에 24.3℃로 실내온도가 차이나요."], "Step": ["지난주 우리반의 설정온도 및 실내온도 데이터 쿼리해 qr_last_week에 저장", "각 날짜별로 평균의 차이 값 계산", "가장 많이 차이나는 날짜와 그 날의 평균 실내온도, 설정온도, 차이값 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "settemp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-23 00:00:00' AND '2022-09-29 23:59:59'"], "subquery": "idu_name = '01_IB5'}"}}, "result": {"name": "qr_last_week"}}, {"type": "o", "python_script_to_process": "qr_last_week['date'] = qr_last_week['timestamp'].dt.date; settemp_mean = qr_last_week.groupby('date')['settemp'].mean(); roomtemp_mean = qr_last_week.groupby('date')['roomtemp'].mean(); temp_diff = abs(settemp_mean - roomtemp_mean); max_diff_date = str(temp_diff.idxmax()); settemp_at_max_diff = settemp_mean.loc[max_diff_date]; roomtemp_at_max_diff = roomtemp_mean.loc[max_diff_date]; max_diff = temp_diff[max_diff_date]", "return": ["max_diff_date", "settemp_at_max_diff", "roomtemp_at_max_diff", "max_diff"]}, {"type": "r", "templates": ["{max_diff_date}에 {settemp_at_max_diff}℃로 설정했지만, {roomtemp_at_max_diff}℃로 실내온도가 차이나요."]}]}}
,
{"Input": "앞반 지금 전원 켜져있어?", "Reference": {"Formalized Input": "지금 앞반의 에어컨 전원 상태 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"앞반": "02_IB1"}, "Modality": {"에어컨 전원": "oper"}}, "Strategy": {"Objective": "현재 앞반의 에어컨 전원 상태를 쿼리해 반환함.", "Expected Outputs": ["앞반의 에어컨은 현재 꺼져있습니다."], "Step": ["앞반의 현재 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장", "qr_aircon_oper에서 에어컨 전원 상태 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["oper"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '02_IB1')"}}, "result": {"name": "qr_aircon_oper"}}, {"type": "o", "python_script_to_process": "oper_status = qr_aircon_oper['oper'].values[0]", "return": ["oper_status"]}, {"type": "r", "templates": ["앞반의 에어컨은 현재 {oper_status}입니다."]}]}, "Candidate": {"Formalized Input": "지금 앞반 에어컨 전원 상태 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"앞반": "01_IB5"}, "Modality": {"에어컨 전원": "oper"}}, "Strategy": {"Objective": "현재 앞반의 에어컨 전원 상태를 쿼리해 반환함.", "Expected Outputs": ["앞반의 에어컨은 현재 켜져있습니다."], "Step": ["앞반의 현재 에어컨 전원 상태 데이터를 쿼리해 qr_aircon_oper에 저장", "qr_aircon_oper에서 에어컨 전원 상태 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["oper"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_aircon_oper"}}, {"type": "o", "python_script_to_process": "oper_status = qr_aircon_oper['oper'].values[0]", "return": ["oper_status"]}, {"type": "r", "templates": ["앞반의 에어컨은 현재 {oper_status}입니다."]}]}}
,
{"Input": "지금 옆반 너무 추워", "Reference": {"Formalized Input": "지금 옆반 너무 추워.", "Input Semantic Parsing": {"Temporal": {"현재": "2022-09-30 12:00:00"}, "Spatial": {"옆반": "01_IB7"}}, "Strategy": {"Objective": "옆반이 추운 이유를 분석하기 위해 설정온도, 실내온도, 에어컨 작동 상태 데이터 쿼리 후 종합적으로 비교 분석함.", "Expected Outputs": ["지금 에어컨 설정온도가 10℃로 너무 낮아서 옆반이 15℃로 추운 것 같아요. 에어컨을 끄거나 설정온도를 높여보세요.", "지금 옆반이 추운 이유는 에어컨이 계속 켜져 있기 때문입니다.", "옆반이 추운 이유는 에어컨이 꺼진지 30분밖에 안 되었기 때문입니다."], "Step": ["옆반의 최근(1시간) 실내온도, 설정온도, 에어컨 전원 데이터를 쿼리해 qr_besides_recent에 저장", "최근 데이터중 가장 최신 데이터를 선택해 현재 실내온도, 설정온도, 에어컨 전원 상태를 추출", "에어컨이 켜져있거나 설정온도가 너무 낮은 경우, 꺼져있는 시간을 계산하여 반환", "데이터를 바탕으로 추운 이유를 분석하여 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp", "settemp", "oper"], "conditions": ["timestamp BETWEEN '2022-09-30 11:00:00' AND '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}}, "result": {"name": "qr_besides_recent"}}, {"type": "o", "python_script_to_process": "sd = qr_besides_recent.sort_values(by='timestamp'); current_roomtemp = sd['roomtemp'].iloc[-1]; current_settemp = sd['settemp'].iloc[-1]; current_oper = sd['oper'].iloc[-1]; latest_oper_off_time = (str(int((sd['timestamp'].iloc[-1] - sd.loc[sd['oper'] == False, 'timestamp'].iloc[-1]) / np.timedelta64(1, 'm'))) + \"분\") if current_oper else \"0분\"", "return": ["current_roomtemp", "current_settemp", "current_oper", "latest_oper_off_time"]}, {"type": "r", "templates": ["지금 에어컨 설정온도가 {current_settemp}℃로 너무 낮아서 옆반이 {current_roomtemp}℃로 추운 것 같아요. 에어컨을 끄거나 설정온도를 높여보세요.", "지금 옆반이 추운 이유는 에어컨이 {current_oper} 상태이기 때문입니다.", "옆반이 추운 이유는 에어컨이 켜진지 {latest_oper_off_time}밖에 안 되었기 때문입니다."]}]}, "Candidate": "{\"Formalized Input\": \"지금 옆반 왜 더울까?\", \"Input Semantic Parsing\": {\"Temporal\": {\"지금\": \"2022-09-30 12:00:00\"}, \"Spatial\": {\"옆반\": \"01_IB7\"}, \"Modality\": {\"roomtemp\": [\"\\uc2e4\\ub0b4\\uc628\\ub3c4\"], \"settemp\": [\"\\uc124\\uc815\\uc628\\ub3c4\"], \"oper\": [\"\\uc804\\uc6d0\"]}, \"current_datetime\": \"2022-09-30 12:00:00\"};지금 옆반 왜 더울까?"}
,
{"Input": "이전에 설정온도가 가장 높았던 날 알려줘", "Reference": {"Formalized Input": "우리반 하루 평균 설정온도가 가장 높았던 날 알려줘.", "Input Semantic Parsing": {"Temporal": {}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp"}, "Operation": ["하루 평균의 최고"]}, "Strategy": {"Objective": "우리반의 설정온도 데이터 쿼리 후 하루 평균 설정온도가 가장 높은 날짜와 그 값을 반환함.", "Expected Outputs": ["우리반은 2022-09-30에 평균 26.5℃로 설정온도가 가장 높았습니다."], "Step": ["우리반의 설정온도 데이터를 쿼리결과 qr_settemp_all에 저장", "qr_settemp_all에서 하루 평균 설정온도 계산", "가장 높은 평균 설정온도 값 및 해당 날짜 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "settemp"], "conditions": [], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_settemp_all"}}, {"type": "o", "python_script_to_process": "qr_settemp_all['date'] = qr_settemp_all['timestamp'].dt.date; avg_settemp_all = qr_settemp_all.groupby('date')['settemp'].mean(); max_temp_date = avg_settemp_all.idxmax(); settemp_at_maxtemp_date = avg_settemp_all.iloc[avg_settemp_all.idxmax()]", "return": ["max_temp_date", "settemp_at_maxtemp_date"]}, {"type": "r", "templates": ["우리반은 {max_temp_date}에 {settemp_at_maxtemp_date}℃로 설정온도가 가장 높았습니다."]}]}, "Candidate": {"Formalized Input": "이번달 우리반의 설정온도가 가장 높은 날짜를 알려줘.", "Input Semantic Parsing": {"Temporal": {"이번달": "2022-09-01 00:00:00 ~ 2022-09-30 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"설정온도": "settemp"}}, "Strategy": {"Objective": "이번달 우리반의 설정온도 데이터 쿼리 후 가장 높은 온도를 가진 날짜를 반환함.", "Expected Outputs": ["이번달 우리반의 설정온도가 가장 높았던 날은 20일에 28℃였습니다."], "Step": ["우리반의 이번달 설정온도 데이터를 쿼리해 qr_settemp_month에 저장", "qr_settemp_month에서 설정온도의 최고값 및 해당 날짜 찾기", "최고온도 및 해당 날짜 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["timestamp", "settemp"], "conditions": ["timestamp BETWEEN '2022-09-01 00:00:00' AND '2022-09-30 23:59:59'"], "subquery": "idu_t.id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_settemp_month"}}, {"type": "o", "python_script_to_process": "max_settemp = qr_settemp_month['settemp'].max(); max_settemp_date = qr_settemp_month.loc[qr_settemp_month['settemp'].idxmax(), 'timestamp']", "return": ["max_settemp", "max_settemp_date"]}, {"type": "r", "templates": ["이번달 우리반의 설정온도가 가장 높았던 날은 {max_settemp_date}일에 {max_settemp}℃였습니다."]}]}}
,
{"Input": "화성의 설정온도 확인해줘", "Reference": {"Formalized Input": "화성의 현재 설정온도를 알려줘.", "Input Semantic Parsing": {"Temporal": {"현재": "2022-09-30 12:00:00"}, "Spatial": {"화성": "Unknown"}, "Modality": {"설정온도": "settemp"}}, "Strategy": {"Objective": "Unknown spatial entity의 정의를 사용자에게 물어보고, 해당 정보를 변수에 저장함.", "Expected Outputs": ["화성이 어떤 곳인지 알려주세요."], "Step": ["Unknown spatial entity의 정의를 사용자에게 물어봄.", "사용자의 답변을 변수에 저장"]}, "Instruction Set": [{"type": "r", "templates": ["화성이 어떤 곳인지 알려주세요."]}]}, "Candidate": {"Formalized Input": "화성의 설정온도 알려줘.", "Input Semantic Parsing": {"Temporal": {"현재": "2022-09-30 12:00:00"}, "Spatial": {"화성": "01_IB7"}, "Modality": {"설정온도": "settemp"}}, "Strategy": {"Objective": "현재 화성의 설정온도를 조회함.", "Expected Outputs": ["화성의 현재 설정온도는 22℃입니다."], "Step": ["화성의 현재 설정온도 데이터를 쿼리해 qr_settemp에 저장", "qr_settemp에서 설정온도를 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["settemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_name = '01_IB7'}"}}, "result": {"name": "qr_settemp"}}, {"type": "o", "python_script_to_process": "settemp = qr_settemp['settemp'].values[0]", "return": ["settemp"]}, {"type": "r", "templates": ["화성의 현재 설정온도는 {settemp}℃입니다."]}]}}
,
{"Input": "올해 경상수지는?", "Reference": {"Formalized Input": "올해 경상수지를 알려줘.", "Input Semantic Parsing": {"Temporal": {"올해": "2022-01-01 00:00:00 ~ 2022-12-31 23:59:59"}}, "Strategy": {"Objective": "HVAC 시스템과 관련 없는 질문에 대한 답변을 제공할 수 없음을 사용자에게 알림.", "Expected Outputs": ["HVAC 시스템과 관련 없는 질문입니다."], "Step": ["답변 불가 메시지 출력"]}, "Instruction Set": [{"type": "r", "templates": ["HVAC 시스템과 관련 없는 질문입니다."]}]}, "Candidate": {"Formalized Input": "올해 경상수지를 알려줘.", "Input Semantic Parsing": {"Temporal": {"올해 경": "2022-09-01 00:00:00 ~ 2022-11-30 23:59:59"}, "Spatial": {"경": "01_IB7"}, "Modality": {"수지": "settemp"}}, "Strategy": {"Objective": "우리반의 수지 데이터 중 올해 경 데이터만 쿼리 후, 평균값 계산.", "Expected Outputs": ["올해 경 우리반의 평균 수지는 55℃ 입니다."], "Step": ["우리반의 수지 데이터 중 올해 경 데이터만 쿼리결과 qr_settemp_high에 저장", "qr_settemp_high에서 settemp의 평균값 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["settemp"], "conditions": ["timestamp BETWEEN '2022-09-01 00:00:00' AND '2022-11-30 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}}, "result": {"name": "qr_settemp_high"}}, {"type": "o", "python_script_to_process": "avg_settemp = qr_settemp_high['settemp'].mean()", "return": ["avg_settemp"]}, {"type": "r", "templates": ["올해 경 우리반의 평균 수지는 {avg_settemp}℃ 입니다."]}]}}
,
{"Input": "지난 3일 동안 우리반 실내 온도 평균 값 알려줘.", "Reference": {"Formalized Input": "지난 3일 동안 우리반 실내 온도 평균 값을 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난 3일": "2022-09-27 00:00:00 ~ 2022-09-29 11:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}, "Operation": ["평균"]}, "Strategy": {"Objective": "지난 3일 동안 우리반 실내 온도를 쿼리한 후 평균 값을 계산함.", "Expected Outputs": ["지난 3일 동안 우리반 실내 온도의 평균 값은 22.3℃였습니다."], "Step": ["지난 3일 동안의 실내 온도 데이터를 쿼리결과 qr_roomtemp_ours에 저장", "qr_roomtemp_ours에서 평균 온도 계산"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-27 00:00:00' AND '2022-09-29 23:59:59'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "o", "python_script_to_process": "avg_temp = qr_roomtemp_ours['roomtemp'].mean()", "return": ["avg_temp"]}, {"type": "r", "templates": ["지난 3일 동안 우리반 실내 온도의 평균 값은 {avg_temp}℃였습니다."]}]}, "Candidate": {"Formalized Input": "지난 3일 동안 우리반의 평균 실내온도를 알려줘.", "Input Semantic Parsing": {"Temporal": {"지난 3일": "2022-09-29 00:00:00 ~ 2022-10-01 23:59:59"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "지난 3일 동안 우리반의 실내온도 데이터를 쿼리 후 평균값 계산.", "Expected Outputs": ["지난 3일간 우리반의 평균 실내온도는 24℃였습니다."], "Step": ["지난 3일 동안의 실내온도 데이터 쿼리해 qr_roomtemp_ours에 저장", "qr_roomtemp_ours에서 roomtemp의 평균값 반환"]}, "Instruction Set": [{"type": "q", "run": {"args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-29 00:00:00' AND '2022-10-01 23:59:59'"], "subquery": "idu_t.id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}}, "result": {"name": "qr_roomtemp_ours"}}, {"type": "o", "python_script_to_process": "avg_roomtemp = qr_roomtemp_ours['roomtemp'].mean()", "return": ["avg_roomtemp"]}, {"type": "r", "templates": ["지난 3일간 우리반의 평균 실내온도는 {avg_roomtemp}℃였습니다."]}]}}

]
