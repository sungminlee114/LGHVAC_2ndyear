[
{"Input": "오늘 아침과 저녁의 온도차이는 얼마나 돼?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 오늘 아침과 저녁의 실내온도 차이를 알고싶어함. 오늘 아침과 저녁의 실내온도를 쿼리한 후 차이를 계산하여 반환하면 됨.", "Expectations": ["오늘 아침과 저녁은 {{morning_roomtemp}}℃와 {{evening_roomtemp}}℃로 {{roomtemp_diff}}℃ 차이가 있습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '8 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '20 hours')", "spatials": ["01_IB5"]}, "result_name": "qr_morning_and_evening"}, {"type": "o", "script": "morning_roomtemp = qr_morning_and_evening['roomtemp'].min();evening_roomtemp = qr_morning_and_evening['roomtemp'].max();roomtemp_diff = evening_roomtemp - morning_roomtemp;", "returns": ["morning_roomtemp", "evening_roomtemp", "roomtemp_diff"]}]}}
,
{"Input": "지금 옆반 온도랑 우리반 온도 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 옆반과 우리반의 실내온도를 알고 싶어함. 최근 5분간 옆반과 우리반의 실내온도를 쿼리한 후 가장 최근 값들을 반환하면 됨.", "Expectations": ["옆반의 실내온도는 현재 {{roomtemp_beyond}}℃ 입니다. 우리반의 실내온도는 현재 {{roomtemp_ours}}℃ 입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["01_IB7", "01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];roomtemp_beyond = qr_recent['roomtemp'].values[0];roomtemp_ours = qr_recent['roomtemp'].values[1];", "returns": ["roomtemp_beyond", "roomtemp_ours"]}]}}
,
{"Input": "현재 설정온도랑 실내온도 차이 알려줘.", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 설정온도와 실내온도의 차이를 알고싶어함. 최근 5분간 설정온도와 실내온도를 쿼리한 후 가장 최근 값들과 차이를 계산해 반환하면 됨.", "Expectations": ["지금 설정온도는 {{settemp_recent_time}}에 설정된 {{settemp_recent}}℃이고, 실내온도는 현재 {{roomtemp_recent_time}}에 측정된 {{roomtemp_recent}}℃입니다. 설정온도와 실내온도의 차이는 {{roomtemp_recent_settemp_recent}}℃입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent = qr[qr['timestamp'] == qr['timestamp'].max()];settemp_recent = qr_recent['settemp'].values[0];settemp_recent_time = qr_recent['timestamp'].values[0];roomtemp_recent = qr_recent['roomtemp'].values[0];roomtemp_recent_time = qr_recent['timestamp'].values[0];roomtemp_recent_settemp_recent = roomtemp_recent - settemp_recent;", "returns": ["settemp_recent", "settemp_recent_time", "roomtemp_recent", "roomtemp_recent_time", "roomtemp_recent_settemp_recent"]}]}}
,
{"Input": "지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 지난주 우리반의 설정온도와 실내온도의 차이가 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 알고싶어함. 해당 기간의 설정온도, 실내온도 데이터를 쿼리한 후 설정온도와 실내온도의 차이를 계산하여 가장 많이 나는 일시와 그때의 실내온도, 설정온도를 반환하면 됨.", "Expectations": ["{{max_diff_timestamps}}이 설정온도({{max_diff_settemps}}℃)와 실내온도({{max_diff_roomtemps}}℃)의 차이가 {{max_diff}}℃로 가장 많이 나는 날였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr['diff'] = qr['roomtemp'] - qr['settemp'];max_diff = qr['diff'].max();max_diff_timestamps = qr[qr['diff'] == max_diff]['timestamp'].values;max_diff_settemps = qr[qr['diff'] == max_diff]['settemp'].values;max_diff_roomtemps = qr[qr['diff'] == max_diff]['roomtemp'].values;", "returns": ["max_diff_timestamps", "max_diff_settemps", "max_diff_roomtemps", "max_diff"]}]}}
,
{"Input": "이번주 설정온도가 실내온도보다 더 낮았던 날은?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 이번주 우리반의 일평균 설정온도가 일평균 실내온도보다 낮았던 날짜를 알고싶어함. 답변시 해당 날짜 뿐만 아니라 그 때의 설정온도와 실내온도도 제공해야 함. 이번주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도가 일평균 실내온도보다 낮은 날을 찾아 그 날짜와 온도를 반환하면 됨.", "Expectations": ["{{lower_temp_dates}}이 설정온도가 실내온도({{lower_temp_roomtemps}}℃)보다 {{lower_temp_diff}}℃ 낮았습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr['date'] = qr['timestamp'].dt.date;daily_avg_temp_diff = qr.groupby('date')[['settemp', 'roomtemp']].mean().diff().sort_values('settemp', ascending=False);lower_temp_dates = daily_avg_temp_diff[daily_avg_temp_diff['settemp'] < 0]['date'].values;lower_temp_roomtemps = daily_avg_temp_diff[daily_avg_temp_diff['settemp'] < 0]['roomtemp'].values;lower_temp_diff = daily_avg_temp_diff[daily_avg_temp_diff['settemp'] < 0]['settemp'].values;", "returns": ["lower_temp_dates", "lower_temp_roomtemps", "lower_temp_diff"]}]}}
,
{"Input": "어제 전원 껐어?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 어제 우리반의 에어컨 상태를 알고싶어함. 어제 우리반의 에어컨 전원 상태를 쿼리한 후 그 결과를 반환하면 됨.", "Expectations": ["어제 우리반의 전원은 꺼져있었습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["oper"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];oper = qr_recent['oper'].values[0];", "returns": ["oper"]}]}}
,
{"Input": "최근에 설정온도가 가장 높았던 날 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 최근 우리반의 설정온도가 가장 높았던 날짜를 알고싶어함. 최근 5일 동안 우리반의 설정온도를 쿼리한 후 설정온도가 가장 높은 날을 반환하면 됨.", "Expectations": ["recent_date"], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '5 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "recent_date = qr[qr['settemp'] == qr['settemp'].max()]['timestamp'].dt.strftime('%Y-%m-%d');", "returns": ["recent_date"]}]}}
,
{"Input": "화성의 설정온도 확인해줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "설정온도는 공간정보보다 맥락 상 중요함. 하지만 공간정보도 제공해야함. 화성이 우리반의 공간정보랑 설정온도를 반환하면 됨.", "Expectations": ["화성의 설정온도는 {{settemp}}℃ 입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["01_IB7"]}, "result_name": "qr"}, {"type": "o", "script": "settemp = qr['settemp'].values[0];", "returns": ["settemp"]}]}}
,
{"Input": "올해 경상수지는?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": "{\"Thinking\": \"사용자는 올해 3월 ~ 8월 우리반의 평균 실내온도 궁금함..scalablytyped<|start_header_id|>system<|end_header_id|>\n\n너는 유저의 HVAC 관련 질문에 답변하는 Agent의 계획을 설계하는 정확하고 훌룡한 인공지능이다. \n사용자의 질문(Input)을 받아 Agent의 Instructions를 출력해 주어야 한다.\nThinking에서는 Metadata를 바탕으로 Input을 specific한 term으로 수정하고, 유저의 의도를 추측하며, 답변 계획을 세워야함.\nExpectation에서는 유저가 기대할만한 답변을 추측해야함.\n\n너는 'type'='q'의 instruction으로 쿼리를 결정할 수 있다.\n\njson형식으로 출력하며, eval() 함수를 사용할 수 있도록 괄호들과 따옴표들의 순서와 닫힘을 매우 신경써서 출력해야한다."}
,
{"Input": "지난 3일 동안 우리반 실내 온도 평균 값 알려줘.", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 지난 3일 동안 우리반의 평균 실내온도를 알고 싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.", "Expectations": ["지난 3일 동안 우리반의 실내온도는 평균 {{roomtemp_avg}}℃였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '3 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '2 day'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "roomtemp_avg = qr['roomtemp'].mean();", "returns": ["roomtemp_avg"]}]}}
,
{"Input": "3층 평균 실내온도는?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "질문의 맥락 상 공간정보는 3층인데, metadata에는 없음. 사용자에게 3층이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.", "Expectations": ["3층이 어떤 곳인지 알려주세요."], "Instructions": []}}
,
{"Input": "오늘 오후 5시에 옆반의 설정온도는 어땠어?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 오늘 오후 5시의 옆반 설정온도 값을 알고 싶어합니다. 해당 시간의 설정온도 데이터를 쿼리하여 값을 반환하면 됩니다.", "Expectations": ["오늘 오후 5시 옆반의 설정온도는 {{settemp}}℃였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp"], "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '17 hours'", "spatials": ["01_IB7"]}, "result_name": "qr"}, {"type": "o", "script": "settemp = qr['settemp'].values[0];", "returns": ["settemp"]}]}}
,
{"Input": "올해 여름 우리반 실내온도 최대값과 최소값 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 올해 6월 ~ 8월 우리반의 실내온도 최대값과 최소값을 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 최대값과 최소값을 반환하면 됨.", "Expectations": ["올해 여름 우리반은 최대 {{roomtemp_max}}℃, 최소 {{roomtemp_min}}℃였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-30')", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "roomtemp_max = qr['roomtemp'].max();roomtemp_min = qr['roomtemp'].min();", "returns": ["roomtemp_max", "roomtemp_min"]}]}}
,
{"Input": "다음주 우리반 실내온도 어떨거 같아?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 다음주 우리반의 실내온도를 예측하고 싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야함.", "Expectations": ["예측하기는 아직 지원되지 않는 기능입니다."], "Instructions": []}}
,
{"Input": "지금 몇시야?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 시간을 물어봄. 현재 시간을 Metadata에서 읽어서 반환하면 됨.", "Expectations": ["지금 {{current_time}}입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["timestamp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP' + INTERVAL '5 minutes')", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent_timestamp = qr['timestamp'].max();current_time = qr_recent_timestamp.strftime('%H:%M:%S');", "returns": ["current_time"]}]}}

]
