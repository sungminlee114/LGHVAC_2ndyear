{"Input": "Why is our classroom so cold", "Reference": {"Formalized Input": "지금 우리반 왜 추울까?", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"우리반": "01_IB5"}}, "Strategy": {"Objective": "우리반이 추운 이유를 분석하기 위해 설정온도, 실내온도, 에어컨 작동 상태 데이터 쿼리 후 종합적으로 비교 분석함.", "Expected Outputs": ["The reason our classroom is cold with 15℃ is that the setting temperature is 10℃. Please turn off the air conditioner or raise the setting temperature.", "The reason our classroom is cold is that the air conditioner is on.", "The reason our classroom is cold is that the air conditioner has been on for only 30 minutes."], "Step": ["우리반의 최근(1시간) 실내온도, 설정온도, 에어컨 전원 데이터를 쿼리해 qr_ours_recent에 저장", "최근 데이터중 가장 최신 데이터를 선택해 현재 실내온도, 설정온도, 에어컨 전원 상태를 추출", "에어컨이 켜져있거나 설정온도가 너무 낮은 경우, 꺼져있는 시간을 계산하여 반환", "데이터를 바탕으로 추운 이유를 분석하여 반환"]}, "Instruction Set": [{"type": "q", "args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp", "settemp", "oper"], "conditions": ["timestamp BETWEEN '2022-09-30 11:00:00' AND '2022-09-30 12:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}, "result_name": "qr_ours_recent"}]}, "Candidate": {"Formalized Input": "지금 우리반 온도 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"온도": "roomtemp"}}, "Strategy": {"Objective": "우리반의 현재 온도를 쿼리 후, 반환.", "Expected Outputs": ["지금 우리반 온도는 24℃ 입니다."], "Step": ["우리반의 현재 온도 데이터 중 가장 최근 데이터만 qr_roomtemp_now에 저장", "qr_roomtemp_now에서 roomtemp의 값 반환"]}, "Instruction Set": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = (SELECT MAX(timestamp) FROM data_t WHERE idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5'))"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}, "result_name": "qr_roomtemp_now"}, {"type": "s", "args": {"result_name": "qr_roomtemp_now", "columns": ["roomtemp"]}, "result_name": "roomtemp_now"}]}}
{"Input": "오늘 아침과 저녁의 온도차이는 얼마나 돼?", "Reference": {"Formalized Input": "우리반 오늘 아침과 저녁의 실내온도 차이 알려줘.", "Input Semantic Parsing": {"Temporal": {"오늘 아침": "2022-09-30 06:00:00 ~ 2022-09-30 09:00:00", "오늘 저녁": "2022-09-30 18:00:00 ~ 2022-09-30 21:00:00"}, "Spatial": {"우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "우리반 오늘 아침과 저녁의 실내온도 데이터 쿼리 후 평균값을 계산하여 차이를 반환함.", "Expected Outputs": ["오늘 아침(06:00 ~ 09:00, 24.5℃)과 저녁(18:00 ~ 21:00, 27.3℃)의 온도 차이는 2.8℃ 입니다."], "Step": ["2022-09-30 06:00 ~ 09:00 시간대의 roomtemp 데이터 조회해 qr_morning_temp에 저장", "2022-09-30 18:00 ~ 21:00 시간대의 roomtemp 데이터 조회해 qr_evening_temp에 저장", "qr_morning_temp과 qr_evening_temp의 평균값 및 차이 반환"]}, "Instruction Set": [{"type": "q", "args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 06:00:00' AND '2022-09-30 09:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}, "result_name": "qr_morning_temp"}, {"type": "q", "args": {"table_name": "data_t", "columns": ["timestamp", "roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 18:00:00' AND '2022-09-30 21:00:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}, "result_name": "qr_evening_temp"}]}, "Candidate": "{\"Formalized Input\": \"오늘 아침과 저녁의 온도 차이를 알려줘.\", \"Input Semantic Parsing\": {\"Temporal\": {\"오늘\": \"2022-09-30 00:00:00 ~ 2022-09-30 23:59:59\"}, \"Modality\": {\"온도\": \"roomtemp\"}, \"Spatial\": {\"우리반\": \"01_IB5\"}}, \"Strategy\": {\"Objective\": \"우리반의 실내온도 데이터 중 오늘 아침과 저녁 데이터만 쿼리 후, 차이 계산.\", \"Expected Outputs\": [\"오늘 아침과 저녁의 온도 차이는 3℃ 입니다.\"], \"Step\": [\"우리반의 실내온도 데이터 중 오늘 아침 데이터만 qr_roomtemp_morning에 저장\", \"우리반의 실내온도 데이터 중 오늘 저녁 데이터만 qr_roomtemp_evening에 저장\", \"qr_roomtemp_morning에서 roomtemp의 평균값 반환\", \"qr_roomtemp_evening에서 roomtemp의 평균값 반환\", \"두 평균값의 차이 반환\"]}, \"Instruction Set\": [{\"type\": \"q\", \"args\": {\"table_name\": \"data_t\", \"columns\": [\"roomtemp\"], \"conditions\": [\"timestamp BETWEEN '2022-09-30 06:00:00' AND '2022-09-30 12:00:00'\"], \"subquery\": \"idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')\"}, \"result_name\": \"qr_roomtemp_morning\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"data_t\", \"columns\": [\"roomtemp\"], \"conditions\": [\"timestamp BETWEEN '2022-09-30 18:00:00' AND '2022-09-30 23:59:59'\"], \"subquery\": \"idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')\"}, \"result_name\": \"qr_roomtemp_evening\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"qr_roomtemp_morning\", \"columns\": [\"AVG(roomtemp)\"], \"result_name\": \"avg_roomtemp_morning\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"qr_roomtemp_evening\", \"columns\": [\"AVG(roomtemp)\"], \"result_name\": \"avg_roomtemp_evening\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"avg_roomtemp_morning\", \"columns\": [\"AVG(roomtemp)\"], \"result_name\": \"avg_roomtemp_morning\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"avg_roomtemp_evening\", \"columns\": [\"AVG(roomtemp)\"], \"result_name\": \"avg_roomtemp_evening\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"avg_roomtemp_evening\", \"columns\": [\"roomtemp\"], \"conditions\": [\"roomtemp > (SELECT roomtemp FROM avg_roomtemp_morning)\"], \"result_name\": \"qr_roomtemp_higher_than_morning\"}, {\"type\": \"q\", \"args\": {\"table_name\": \"avg_roomtemp_evening\", \"columns\": [\"roomtemp\"], \"conditions\": [\"roomtemp < (SELECT roomtemp FROM avg_roomtemp_morning)\"], \"result_name\": \"qr_roomtemp_lower_than_morning\"}"}
{"Input": "지금 옆반 온도랑 우리반 온도 알려줘", "Reference": {"Formalized Input": "지금 옆반과 우리반의 실내온도 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"옆반": "01_IB7", "우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "현재 옆반과 우리반의 실내온도를 쿼리해 반환함.", "Expected Outputs": ["옆반의 실내온도는 25℃, 우리반의 실내온도는 27℃입니다."], "Step": ["옆반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_beside에 저장", "우리반의 현재 실내온도 데이터를 쿼리해 qr_roomtemp_ours에 저장", "두 반의 실내온도 반환"]}, "Instruction Set": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB7'))"}, "result_name": "qr_roomtemp_beside"}, {"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp = '2022-09-30 12:00:00'"], "subquery": "idu_id IN (SELECT id FROM idu_t WHERE name IN ('01_IB5'))"}, "result_name": "qr_roomtemp_ours"}]}, "Candidate": {"Formalized Input": "지금 옆반과 우리반의 실내온도를 알려줘.", "Input Semantic Parsing": {"Temporal": {"지금": "2022-09-30 12:00:00"}, "Spatial": {"옆반": "01_IB7", "우리반": "01_IB5"}, "Modality": {"실내온도": "roomtemp"}}, "Strategy": {"Objective": "우리반과 옆반의 현재 실내온도를 쿼리 후, 반환.", "Expected Outputs": ["지금 옆반 온도는 24℃ 입니다.", "지금 우리반 온도는 26℃ 입니다."], "Step": ["qr_roomtemp_now_ib7에 01_IB7의 현재 온도 데이터 쿼리결과 저장", "qr_roomtemp_now_ib5에 01_IB5의 현재 온도 데이터 쿼리결과 저장"]}, "Instruction Set": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 11:50:00' AND '2022-09-30 12:10:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB7')"}, "result_name": "qr_roomtemp_now_ib7"}, {"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "conditions": ["timestamp BETWEEN '2022-09-30 11:50:00' AND '2022-09-30 12:10:00'"], "subquery": "idu_id = (SELECT id FROM idu_t WHERE name = '01_IB5')"}, "result_name": "qr_roomtemp_now_ib5"}, {"type": "p", "args": {"text": "qr_roomtemp_now_ib7에서 roomtemp의 평균값 반환"}, "result_name": "avg_roomtemp_now_ib7"}, {"type": "p", "args": {"text": "qr_roomtemp_now_ib5에서 roomtemp의 평균값 반환"}, "result_name": "avg_roomtemp_now_ib5"}, {"type": "p", "args": {"text": "출력 형식에 맞춰서 결과 출력"}, "result_name": "final_output"}]}}
