[
{"Input": "오늘 아침과 저녁의 온도차이는 얼마나 돼?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 오늘 아침(06 ~ 09시)과 저녁(18 ~ 21시)의 평균 실내온도의 차이를 알고 싶어함. 해당 시간 범위의 실내온도를 쿼리한 후 평균값을 계산해 차이를 반환하면 됨.", "Expectations": ["오늘 아침(06:00 ~ 09:00, {{morning_avg}}℃)과 저녁(18:00 ~ 21:00, {{evening_avg}}℃)의 온도차이는 {{temp_diff}}℃ 입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '6 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '9 hours')", "spatials": ["01_IB5"]}, "result_name": "qr_morning"}, {"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '18 hours', DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '21 hours')", "spatials": ["01_IB5"]}, "result_name": "qr_evening"}, {"type": "o", "script": "morning_avg = qr_morning['roomtemp'].mean();evening_avg = qr_evening['roomtemp'].mean();temp_diff = evening_avg - morning_avg;", "returns": ["morning_avg", "evening_avg", "temp_diff"]}]}}
,
{"Input": "지금 옆반 온도랑 우리반 온도 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 옆반과 우리반의 실내온도를 알고 싶어함. 최근 5분간 옆반과 우리반의 실내온도를 쿼리한 후 가장 최근 값들을 반환하면 됨.", "Expectations": ["옆반의 현재 온도는 {{roomtemp_옆반}}℃이고, 우리반의 현재 온도는 {{roomtemp_우리반}}℃입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["01_IB7", "01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];roomtemp_옆반 = qr_recent[qr_recent['idu'] == '01_IB7']['roomtemp'].values[0];roomtemp_우리반 = qr_recent[qr_recent['idu'] == '01_IB5']['roomtemp'].values[0];", "returns": ["roomtemp_옆반", "roomtemp_우리반"]}]}}
,
{"Input": "현재 설정온도랑 실내온도 차이 알려줘.", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 설정온도와 실내온도의 차이를 알고 싶어함. 최근 5분간 설정온도와 실내온도를 쿼리한 후 가장 최근 값들과 차이를 계산해 반환하면 됨.", "Expectations": ["설정온도({{settemp_theirs}}℃)는 실내온도({{roomtemp_theirs}}℃)보다 {{settemp_diff}}℃ 높습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp", "settemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];settemp_theirs = qr_recent['settemp'].values[0];roomtemp_theirs = qr_recent['roomtemp'].values[0];settemp_diff = settemp_theirs - roomtemp_theirs;", "returns": ["settemp_theirs", "roomtemp_theirs", "settemp_diff"]}]}}
,
{"Input": "지난주에 설정온도와 실내온도 차이가 가장 많이 났던 날은?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 지난주 우리반의 일평균 설정온도와 일평균 실내온도의 차이가 가장 많이 나는 일을 알고싶어함. 지난주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도와 실내온도의 차이를 계산하여 가장 많이 나는 일을 찾아 그 날짜와 차이를 반환하면 됨.", "Expectations": ["지난주 우리반은 {{max_diff_dates}}에 일평균 설정온도 {{max_diff_settemps}}℃와 일평균 실내온도 {{max_diff_roomtemps}}℃의 차이를 가지고 있었습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp", "roomtemp"], "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE' - INTERVAL '1 week'), DATE_TRUNC('week', DATE 'CURRENT_DATE'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr['temp_diff'] = qr['roomtemp'] - qr['settemp'];max_diff = qr['temp_diff'].max();max_diff_settemps = qr[qr['temp_diff'] == max_diff]['settemp'].values;max_diff_roomtemps = qr[qr['temp_diff'] == max_diff]['roomtemp'].values;max_diff_dates = qr[qr['temp_diff'] == max_diff]['timestamp'].dt.strftime('%Y-%m-%d');", "returns": ["max_diff_dates", "max_diff_settemps", "max_diff_roomtemps"]}]}}
,
{"Input": "이번주 설정온도가 실내온도보다 더 낮았던 날은?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 이번주 우리반의 일평균 설정온도가 일평균 실내온도보다 낮았던 날짜를 알고 싶어함. 이번주 우리반의 설정온도와 실내온도의 데이터를 쿼리한 후 일평균 설정온도가 실내온도보다 낮은 날짜와 그 값을 반환하면 됨.", "Expectations": ["이번주 우리반은 {{dates}}에 일평균 설정온도 {{settemp_avg}}℃로 실내온도 {{roomtemp_avg}}℃보다 낮았습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp", "settemp"], "temporal": "[DATE_TRUNC('week', DATE 'CURRENT_DATE'), DATE_TRUNC('week', DATE 'CURRENT_DATE' + INTERVAL '1 week'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr['date'] = qr['timestamp'].dt.date;daily_avg_temp = qr.groupby('date')[['roomtemp','settemp']].mean();dates = daily_avg_temp[daily_avg_temp['settemp'] < daily_avg_temp['roomtemp']].index;", "returns": ["dates"]}]}}
,
{"Input": "어제 전원 껐어?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 어제 우리반의 전원 상태를 알고싶어함. 어제 하루 우리반의 oper를 쿼리한 후 가장 최근값을 반환하면 됨.", "Expectations": ["어제 우리반은 {{oper}}였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["oper"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '1 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "qr_recent=qr[qr['timestamp']==qr['timestamp'].max()];oper = qr_recent['oper'].values[0];", "returns": ["oper"]}]}}
,
{"Input": "최근에 설정온도가 가장 높았던 날 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 최근 5일 이내 우리반의 설정온도가 가장 높았던 날짜를 알고 싶어함. 해당 기간의 설정온도 데이터를 쿼리한 후 가장 높은 설정온도를 기록한 날을 반환하면 됨.", "Expectations": ["최근 {{top_dates}}에 설정온도가 {{top_temp}}℃로 가장 높았습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '5 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "top_temp = qr['settemp'].max();top_dates = qr[qr['settemp'] == top_temp]['timestamp'].dt.strftime('%Y-%m-%d');", "returns": ["top_dates", "top_temp"]}]}}
,
{"Input": "화성의 설정온도 확인해줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "질문의 맥락 상 공간정보는 화성인데, metadata에는 없음. 사용자에게 화성이 어떤 곳인지 물어보고, 해당 정보를 변수에 저장해야 함.", "Expectations": ["화성이 어떤 곳인지 알려주세요."], "Instructions": []}}
,
{"Input": "올해 경상수지는?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 올해 우리반의 경상수지를 물어봄. 올해 3월 ~ 10월 우리반의 평균 경상수지를 계산하여 반환하면 됨.", "Expectations": ["올해 우리반의 경상수는 {{average_gs}}입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["gs"], "temporal": "[DATE 'CURRENT_YEAR-03-01', DATE 'CURRENT_YEAR-11-01')", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "average_gs = qr['gs'].mean();", "returns": ["average_gs"]}]}}
,
{"Input": "지난 3일 동안 우리반 실내 온도 평균 값 알려줘.", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 지난 3일 동안 우리반의 실내온도 평균을 알고싶어함. 해당 기간의 실내온도 데이터를 쿼리한 후 평균값을 계산하여 반환하면 됨.", "Expectations": ["지난 3일간 우리반의 평균 실내온도는 {{roomtemp_avg}}℃였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE_TRUNC('day', DATE 'CURRENT_DATE' - INTERVAL '3 day'), DATE_TRUNC('day', DATE 'CURRENT_DATE' + INTERVAL '1 day'))", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "roomtemp_avg = qr['roomtemp'].mean();", "returns": ["roomtemp_avg"]}]}}
,
{"Input": "3층 평균 실내온도는?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 메타데이터에 존재하는 모든 3층의 실내온도를 쿼리한 후 평균값을 계산하여 반환해야 합니다.", "Expectations": ["3층의 평균 실내온도는 {{roomtemp_avg}}℃ 입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[TIMESTAMP 'CURRENT_TIMESTAMP' - INTERVAL '5 minutes', TIMESTAMP 'CURRENT_TIMESTAMP']", "spatials": ["03_IB5", "03_IB7", "03_I81"]}, "result_name": "qr"}, {"type": "o", "script": "roomtemp_avg = qr['roomtemp'].mean();", "returns": ["roomtemp_avg"]}]}}
,
{"Input": "오늘 오후 5시에 옆반의 설정온도는 어땠어?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 오늘 오후 5시의 옆반 설정온도 값을 알고 싶어합니다. 해당 시간의 설정온도 데이터를 쿼리하여 값을 반환하면 됩니다.", "Expectations": ["오늘 오후 5시 옆반의 설정온도는 {{settemp}}℃였습니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["settemp"], "temporal": "DATE_TRUNC('day', DATE 'CURRENT_DATE') + INTERVAL '17 hours'", "spatials": ["01_IB7"]}, "result_name": "qr"}, {"type": "o", "script": "settemp = qr['settemp'].values[0];", "returns": ["settemp"]}]}}
,
{"Input": "올해 여름 우리반 실내온도 최대값과 최소값 알려줘", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 올해 6월 ~ 8월 우리반의 실내온도 최대값과 최소값을 알고싶어함. 또한 올해 여름이 언제인지 알려주어야 함. 올해 여름(6월 ~ 8월) 우리반의 실내온도를 쿼리한 후 최대값과 최소값을 계산하여 반환하면 됨.", "Expectations": ["올해 여름(6월 ~ 8월) 우리반의 실내온도는 최대 {{roomtemp_max}}℃, 최소 {{roomtemp_min}}℃입니다."], "Instructions": [{"type": "q", "args": {"table_name": "data_t", "columns": ["roomtemp"], "temporal": "[DATE 'CURRENT_YEAR-06-01', DATE 'CURRENT_YEAR-09-01')", "spatials": ["01_IB5"]}, "result_name": "qr"}, {"type": "o", "script": "roomtemp_max = qr['roomtemp'].max();roomtemp_min = qr['roomtemp'].min();", "returns": ["roomtemp_max", "roomtemp_min"]}]}}
,
{"Input": "다음주 우리반 실내온도 어떨거 같아?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 다음주 우리반의 실내온도를 예측하고 싶어함. 현재는 예측 기능을 지원하지 않으므로 예측 기능이 지원되지 않는다는 메시지를 반환해야함.", "Expectations": ["예측하기는 아직 지원되지 않는 기능입니다."], "Instructions": []}}
,
{"Input": "지금 몇시야?", "Scenario": "scenario1", "Metadata": {"site_name": "YongDongIllHighSchool", "user_name": "홍길동", "user_role": "customer", "idu_name": "01_IB5", "idu_mapping": {"01_IB5": ["우리반"], "01_IB7": ["옆반"], "02_I81": ["앞반"]}, "modality_mapping": {"roomtemp": ["실내온도"], "settemp": ["설정온도"], "oper": ["전원"]}, "current_datetime": "2022-09-30 12:00:00"}, "Candidate": {"Thinking": "사용자는 현재 시간을 물어봄. 현재 시간을 Metadata에서 읽어서 반환하면 됨.", "Expectations": ["지금은 {{current_time}}입니다."], "Instructions": [{"type": "o", "script": "current_time = pd.Timestamp(Metadata['current_datetime']).strftime('%H:%M:%S');", "returns": ["current_time"]}]}}

]
